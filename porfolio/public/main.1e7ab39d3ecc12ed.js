"use strict";var Soe=Object.defineProperty,Aoe=Object.defineProperties,xoe=Object.getOwnPropertyDescriptors,bU=Object.getOwnPropertySymbols,koe=Object.prototype.hasOwnProperty,Moe=Object.prototype.propertyIsEnumerable,DU=(oe,pt,Yt)=>pt in oe?Soe(oe,pt,{enumerable:!0,configurable:!0,writable:!0,value:Yt}):oe[pt]=Yt,Fp=(oe,pt)=>{for(var Yt in pt||(pt={}))koe.call(pt,Yt)&&DU(oe,Yt,pt[Yt]);if(bU)for(var Yt of bU(pt))Moe.call(pt,Yt)&&DU(oe,Yt,pt[Yt]);return oe},Lp=(oe,pt)=>Aoe(oe,xoe(pt));(self.webpackChunkporfolio=self.webpackChunkporfolio||[]).push([[179],{603:()=>{function oe(t){return"function"==typeof t}function pt(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yt=pt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class mn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Yt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{BD(s)}catch(o){e=null!=e?e:[],o instanceof Yt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)BD(e);else{if(e instanceof mn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lo(n,e)}remove(e){const{_finalizers:n}=this;n&&lo(n,e),e instanceof mn&&e._removeParent(this)}}mn.EMPTY=(()=>{const t=new mn;return t.closed=!0,t})();const VD=mn.EMPTY;function UD(t){return t instanceof mn||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function BD(t){oe(t)?t():t.unsubscribe()}const ss={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ol={setTimeout(t,e,...n){const{delegate:r}=Ol;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ol;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function jD(t){Ol.setTimeout(()=>{const{onUnhandledError:e}=ss;if(!e)throw t;e(t)})}function $D(){}const CU=Vp("C",void 0,void 0);function Vp(t,e,n){return{kind:t,value:e,error:n}}let os=null;function Fl(t){if(ss.useDeprecatedSynchronousErrorHandling){const e=!os;if(e&&(os={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=os;if(os=null,n)throw r}}else t()}class Up extends mn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,UD(e)&&e.add(this)):this.destination=NU}static create(e,n,r){return new Za(e,n,r)}next(e){this.isStopped?jp(function AU(t){return Vp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?jp(function SU(t){return Vp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jp(CU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kU=Function.prototype.bind;function Bp(t,e){return kU.call(t,e)}class MU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ll(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ll(r)}else Ll(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ll(n)}}}class Za extends Up{constructor(e,n,r){let i;if(super(),oe(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&ss.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bp(e.next,s),error:e.error&&Bp(e.error,s),complete:e.complete&&Bp(e.complete,s)}):i=e}this.destination=new MU(i)}}function Ll(t){ss.useDeprecatedSynchronousErrorHandling?function xU(t){ss.useDeprecatedSynchronousErrorHandling&&os&&(os.errorThrown=!0,os.error=t)}(t):jD(t)}function jp(t,e){const{onStoppedNotification:n}=ss;n&&Ol.setTimeout(()=>n(t,e))}const NU={closed:!0,next:$D,error:function RU(t){throw t},complete:$D},$p="function"==typeof Symbol&&Symbol.observable||"@@observable";function as(t){return t}let Ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function OU(t){return t&&t instanceof Up||function PU(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}(t)&&UD(t)}(n)?n:new Za(n,r,i);return Fl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=GD(r))((i,s)=>{const o=new Za({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[$p](){return this}pipe(...n){return function HD(t){return 0===t.length?as:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=GD(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function GD(t){var e;return null!==(e=null!=t?t:ss.Promise)&&void 0!==e?e:Promise}const FU=pt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fr=(()=>{class t extends Ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zD(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new FU}next(n){Fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?VD:(this.currentObservers=null,s.push(n),new mn(()=>{this.currentObservers=null,lo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ne;return n.source=this,n}}return t.create=(e,n)=>new zD(e,n),t})();class zD extends Fr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:VD}}function qD(t){return oe(null==t?void 0:t.lift)}function Dt(t){return e=>{if(qD(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(t,e,n,r,i){return new LU(t,e,n,r,i)}class LU extends Up{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ge(t,e){return Dt((n,r)=>{let i=0;n.subscribe(Ct(r,s=>{r.next(t.call(e,s,i++))}))})}function zp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function QD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof gi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function YD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Wp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const JD=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function XD(t){return oe(null==t?void 0:t.then)}function ZD(t){return oe(t[$p])}function eC(t){return Symbol.asyncIterator&&oe(null==t?void 0:t[Symbol.asyncIterator])}function tC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nC=function iB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rC(t){return oe(null==t?void 0:t[nC])}function iC(t){return QD(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield gi(n.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{n.releaseLock()}})}function sC(t){return oe(null==t?void 0:t.getReader)}function cr(t){if(t instanceof Ne)return t;if(null!=t){if(ZD(t))return function sB(t){return new Ne(e=>{const n=t[$p]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(JD(t))return function oB(t){return new Ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(XD(t))return function aB(t){return new Ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jD)})}(t);if(eC(t))return oC(t);if(rC(t))return function uB(t){return new Ne(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(sC(t))return function cB(t){return oC(iC(t))}(t)}throw tC(t)}function oC(t){return new Ne(e=>{(function lB(t,e){var n,r,i,s;return function WD(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=YD(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Lr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gt(t,e,n=1/0){return oe(e)?gt((r,i)=>ge((s,o)=>e(r,s,i,o))(cr(t(r,i))),n):("number"==typeof e&&(n=e),Dt((r,i)=>function dB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;cr(n(g,l++)).subscribe(Ct(e,v=>{null==i||i(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?Lr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ct(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function eu(t=1/0){return gt(as,t)}const Vr=new Ne(t=>t.complete());function Kp(t){return t[t.length-1]}function tu(t){return function fB(t){return t&&oe(t.schedule)}(Kp(t))?t.pop():void 0}function Vl(t,e=0){return Dt((n,r)=>{n.subscribe(Ct(r,i=>Lr(r,t,()=>r.next(i),e),()=>Lr(r,t,()=>r.complete(),e),i=>Lr(r,t,()=>r.error(i),e)))})}function Ul(t,e=0){return Dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aC(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ne(n=>{Lr(n,e,()=>{const r=t[Symbol.asyncIterator]();Lr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vt(t,e){return e?function IB(t,e){if(null!=t){if(ZD(t))return function mB(t,e){return cr(t).pipe(Ul(e),Vl(e))}(t,e);if(JD(t))return function _B(t,e){return new Ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(XD(t))return function yB(t,e){return cr(t).pipe(Ul(e),Vl(e))}(t,e);if(eC(t))return aC(t,e);if(rC(t))return function vB(t,e){return new Ne(n=>{let r;return Lr(n,e,()=>{r=t[nC](),Lr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>oe(null==r?void 0:r.return)&&r.return()})}(t,e);if(sC(t))return function wB(t,e){return aC(iC(t),e)}(t,e)}throw tC(t)}(t,e):cr(t)}function Qp(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Za({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Jp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bB=Ie({__forward_ref__:Ie});function Xp(t){return t.__forward_ref__=Xp,t.toString=function(){return me(this())},t}function X(t){return function uC(t){return"function"==typeof t&&t.hasOwnProperty(bB)&&t.__forward_ref__===Xp}(t)?t():t}class pe extends Error{constructor(e,n){super(function Zp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function St(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Bl(t,e){const n=e?` in ${e}`:"";throw new pe(-201,`No provider for ${St(t)} found${n}`)}function _n(t,e){null==t&&function ye(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function eg(t){return cC(t,jl)||cC(t,dC)}function cC(t,e){return t.hasOwnProperty(e)?t[e]:null}function lC(t){return t&&(t.hasOwnProperty(tg)||t.hasOwnProperty(MB))?t[tg]:null}const jl=Ie({\u0275prov:Ie}),tg=Ie({\u0275inj:Ie}),dC=Ie({ngInjectableDef:Ie}),MB=Ie({ngInjectorDef:Ie});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let ng;function mi(t){const e=ng;return ng=t,e}function hC(t,e,n){const r=eg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Bl(me(t),"Injector")}function yi(t){return{toString:t}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),lr=(()=>{return(t=lr||(lr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",lr;var t})();const NB="undefined"!=typeof globalThis&&globalThis,PB="undefined"!=typeof window&&window,OB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,we=NB||"undefined"!=typeof global&&global||PB||OB,ho={},Ee=[],$l=Ie({\u0275cmp:Ie}),rg=Ie({\u0275dir:Ie}),ig=Ie({\u0275pipe:Ie}),fC=Ie({\u0275mod:Ie}),Br=Ie({\u0275fac:Ie}),nu=Ie({__NG_ELEMENT_ID__:Ie});let FB=0;function Gn(t){return yi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||lr.Emulated,id:"c",styles:t.styles||Ee,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=FB++,r.inputs=yC(t.inputs,n),r.outputs=yC(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(pC):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(gC):null,r})}function pC(t){return At(t)||function _i(t){return t[rg]||null}(t)}function gC(t){return function us(t){return t[ig]||null}(t)}const mC={};function zn(t){return yi(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(mC[t.id]=t.type),e})}function yC(t,e){if(null==t)return ho;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Ut=Gn;function At(t){return t[$l]||null}function Nn(t,e){const n=t[fC]||null;if(!n&&!0===e)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return n}const Q=11;function dr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Wn(t){return Array.isArray(t)&&!0===t[1]}function ag(t){return 0!=(8&t.flags)}function ql(t){return 2==(2&t.flags)}function Wl(t){return 1==(1&t.flags)}function Kn(t){return null!==t.template}function $B(t){return 0!=(512&t[2])}function hs(t,e){return t.hasOwnProperty(Br)?t[Br]:null}class zB{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function fs(){return vC}function vC(t){return t.type.prototype.ngOnChanges&&(t.setInput=WB),qB}function qB(){const t=IC(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ho)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WB(t,e,n,r){const i=IC(t)||function KB(t,e){return t[wC]=e}(t,{previous:ho,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new zB(u&&u.currentValue,e,o===ho),t[r]=e}fs.ngInherit=!0;const wC="__ngSimpleChanges__";function IC(t){return t[wC]||null}let hg;function Ue(t){return!!t.listen}const EC={createRenderer:(t,e)=>function fg(){return void 0!==hg?hg:"undefined"!=typeof document?document:void 0}()};function Xe(t){for(;Array.isArray(t);)t=t[0];return t}function wn(t,e){return Xe(e[t.index])}function pg(t,e){return t.data[e]}function In(t,e){const n=e[t];return dr(n)?n:n[0]}function gg(t){return 128==(128&t[2])}function vi(t,e){return null==e?null:t[e]}function bC(t){t[18]=0}function mg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const z={lFrame:NC(null),bindingsEnabled:!0};function CC(){return z.bindingsEnabled}function b(){return z.lFrame.lView}function de(){return z.lFrame.tView}function ut(){let t=SC();for(;null!==t&&64===t.type;)t=t.parent;return t}function SC(){return z.lFrame.currentTNode}function hr(t,e){const n=z.lFrame;n.currentTNode=t,n.isParent=e}function yg(){return z.lFrame.isParent}function _o(){return z.lFrame.bindingIndex++}function hj(t,e){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,vg(e)}function vg(t){z.lFrame.currentDirectiveIndex=t}function Ig(t){z.lFrame.currentQueryIndex=t}function pj(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function MC(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=pj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=z.lFrame=RC();return r.currentTNode=e,r.lView=t,!0}function Yl(t){const e=RC(),n=t[1];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function RC(){const t=z.lFrame,e=null===t?null:t.child;return null===e?NC(t):e}function NC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function PC(){const t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const OC=PC;function Jl(){const t=PC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return z.lFrame.selectedIndex}function wi(t){z.lFrame.selectedIndex=t}function Pe(){const t=z.lFrame;return pg(t.tView,t.selectedIndex)}function Xl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Zl(t,e,n){FC(t,e,3,n)}function ed(t,e,n,r){(3&t[2])===n&&FC(t,e,n,r)}function Eg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function FC(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(Tj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Tj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class au{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function td(t,e,n){const r=Ue(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];bg(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function LC(t){return 3===t||4===t||6===t}function bg(t){return 64===t.charCodeAt(0)}function nd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||VC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function VC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function UC(t){return-1!==t}function vo(t){return 32767&t}function wo(t,e){let n=function Aj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Dg=!0;function rd(t){const e=Dg;return Dg=t,e}let xj=0;function cu(t,e){const n=Sg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Cg(r.data,t),Cg(e,null),Cg(r.blueprint,null));const i=id(t,e),s=t.injectorIndex;if(UC(i)){const o=vo(i),a=wo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Cg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function id(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function sd(t,e,n){!function kj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(nu)&&(r=n[nu]),null==r&&(r=n[nu]=xj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function $C(t,e,n){if(n&$.Optional)return t;Bl(e,"NodeInjector")}function HC(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=mi(void 0);try{return i?i.get(e,r,n&$.Optional):hC(e,r,n&$.Optional)}finally{mi(s)}}return $C(r,e,n)}function GC(t,e,n,r=$.Default,i){if(null!==t){const s=function Pj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(nu)?t[nu]:void 0;return"number"==typeof e?e>=0?255&e:Rj:e}(n);if("function"==typeof s){if(!MC(e,t,r))return r&$.Host?$C(i,n,r):HC(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Bl(n)}finally{OC()}}else if("number"==typeof s){let o=null,a=Sg(t,e),u=-1,c=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?id(t,e):e[a+8],-1!==u&&WC(r,!1)?(o=e[1],a=vo(u),e=wo(u,e)):a=-1);-1!==a;){const l=e[1];if(qC(s,a,l.data)){const d=Nj(a,e,n,o,r,c);if(d!==zC)return d}u=e[a+8],-1!==u&&WC(r,e[1].data[a+8]===c)&&qC(s,a,e)?(o=l,a=vo(u),e=wo(u,e)):a=-1}}}return HC(e,n,r,i)}const zC={};function Rj(){return new Io(ut(),b())}function Nj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function od(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Kn(f)&&f.type===n)return u}return null}(a,o,n,null==r?ql(a)&&Dg:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==l?lu(e,o,l,a):zC}function lu(t,e,n,r){let i=t[n];const s=e.data;if(function bj(t){return t instanceof au}(i)){const o=i;o.resolving&&function DB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new pe(-200,`Circular dependency in DI detected for ${t}${n}`)}(St(s[n]));const a=rd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?mi(o.injectImpl):null;MC(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Ej(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=vC(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&mi(u),rd(a),o.resolving=!1,OC()}}return i}function qC(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function WC(t,e){return!(t&$.Self||t&$.Host&&e)}class Io{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return GC(this._tNode,this._lView,e,r,n)}}const To="__parameters__";function Do(t,e,n){return yi(()=>{const r=function xg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(To)?u[To]:Object.defineProperty(u,To,{value:[]})[To];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lj=new ee("AnalyzeForEntryComponents");function fr(t,e){t.forEach(n=>Array.isArray(n)?fr(n,e):e(n))}function QC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ad(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const gu={},Ng="__NG_DI_FLAG__",cd="ngTempTokenPath",Wj=/\n/gm,eS="__source",Qj=Ie({provide:String,useValue:Ie});let mu;function tS(t){const e=mu;return mu=t,e}function Yj(t,e=$.Default){if(void 0===mu)throw new pe(203,"");return null===mu?hC(t,void 0,e):mu.get(t,e&$.Optional?null:void 0,e)}function P(t,e=$.Default){return(function RB(){return ng}()||Yj)(X(t),e)}const Jj=P;function Pg(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new pe(900,"");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Xj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(P(i,s))}else e.push(P(r))}return e}function yu(t,e){return t[Ng]=e,t.prototype[Ng]=e,t}function Xj(t){return t[Ng]}const ld=yu(Do("Inject",t=>({token:t})),-1),yt=yu(Do("Optional"),8),_u=yu(Do("SkipSelf"),4);var Tn=(()=>((Tn=Tn||{})[Tn.Important=1]="Important",Tn[Tn.DashCase=2]="DashCase",Tn))();const cS="__ngContext__";function jt(t,e){t[cS]=e}function Lg(t){const e=function wu(t){return t[cS]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ug(t,e){return undefined(t,e)}function Iu(t){const e=t[3];return Wn(e)?e[3]:e}function Bg(t){return mS(t[13])}function jg(t){return mS(t[4])}function mS(t){for(;null!==t&&!Wn(t);)t=t[4];return t}function Ao(t,e,n,r,i){if(null!=r){let s,o=!1;Wn(r)?s=r:dr(r)&&(o=!0,r=r[0]);const a=Xe(r);0===t&&null!==n?null==i?ES(e,n,a):ps(e,n,a,i||null,!0):1===t&&null!==n?ps(e,n,a,i||null,!0):2===t?function Kg(t,e,n){const r=hd(t,e);r&&function x$(t,e,n,r){Ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function R$(t,e,n,r,i){const s=n[7];s!==Xe(n)&&Ao(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Eu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Hg(t,e,n){if(Ue(t))return t.createElement(e,n);{const r=null!==n?function XB(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function _S(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,mg(i,-1)),n.splice(r,1)}function Gg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&_S(i,r),e>0&&(t[n-1][4]=r[4]);const s=ad(t,10+e);!function I$(t,e){Eu(t,e,e[Q],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function vS(t,e){if(!(256&e[2])){const n=e[Q];Ue(n)&&n.destroyNode&&Eu(t,e,n,3,null,null),function b$(t){let e=t[13];if(!e)return zg(t[1],t);for(;e;){let n=null;if(dr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)dr(e)&&zg(e[1],e),e=e[3];null===e&&(e=t),dr(e)&&zg(e[1],e),n=e&&e[4]}e=n}}(e)}}function zg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function A$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof au)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function S$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Xe(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ue(e[Q])&&e[Q].destroy();const n=e[17];if(null!==n&&Wn(e[3])){n!==e[3]&&_S(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function wS(t,e,n){return function IS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===lr.None||i===lr.Emulated)return null}return wn(r,n)}(t,e.parent,n)}function ps(t,e,n,r,i){Ue(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ES(t,e,n){Ue(t)?t.appendChild(e,n):e.appendChild(n)}function TS(t,e,n,r,i){null!==r?ps(t,e,n,r,i):ES(t,e,n)}function hd(t,e){return Ue(t)?t.parentNode(e):e.parentNode}let CS=function DS(t,e,n){return 40&t.type?wn(t,n):null};function fd(t,e,n,r){const i=wS(t,r,e),s=e[Q],a=function bS(t,e,n){return CS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)TS(s,i,n[u],a,!1);else TS(s,i,n,a,!1)}function pd(t,e){if(null!==e){const n=e.type;if(3&n)return wn(e,t);if(4&n)return Wg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return pd(t,r);{const i=t[e.index];return Wn(i)?Wg(-1,i):Xe(i)}}if(32&n)return Ug(e,t)()||Xe(t[e.index]);{const r=AS(t,e);return null!==r?Array.isArray(r)?r[0]:pd(Iu(t[16]),r):pd(t,e.next)}}return null}function AS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return pd(r,i)}return e[7]}function Qg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&jt(Xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Qg(t,e,n.child,r,i,s,!1),Ao(e,t,i,a,s);else if(32&u){const c=Ug(n,r);let l;for(;l=c();)Ao(e,t,i,l,s);Ao(e,t,i,a,s)}else 16&u?xS(t,e,r,n,i,s):Ao(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Eu(t,e,n,r,i,s){Qg(n,r,t.firstChild,e,i,s,!1)}function xS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ao(e,t,i,u[c],s);else Qg(t,e,u,o[3],i,s,!0)}function kS(t,e,n){Ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yg(t,e,n){Ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class PS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const q$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,W$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ze=(()=>((Ze=Ze||{})[Ze.NONE=0]="NONE",Ze[Ze.HTML=1]="HTML",Ze[Ze.STYLE=2]="STYLE",Ze[Ze.SCRIPT=3]="SCRIPT",Ze[Ze.URL=4]="URL",Ze[Ze.RESOURCE_URL=5]="RESOURCE_URL",Ze))();function Ti(t){const e=function Du(){const t=b();return t&&t[12]}();return e?e.sanitize(Ze.URL,t)||"":function Tu(t,e){const n=function $$(t){return t instanceof PS&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function Ei(t){return t instanceof PS?t.changingThisBreaksApplicationSecurity:t}(t):function yd(t){return(t=String(t)).match(q$)||t.match(W$)?t:"unsafe:"+t}(G(t))}function im(t){return t.ngOriginalError}function lH(t,...e){t.error(...e)}class Cu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function cH(t){return t&&t.ngErrorLogger||lH}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&im(e);for(;n&&im(n);)n=im(n);return n||null}}const yH=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(we))();function gr(t){return t instanceof Function?t():t}function GS(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const zS="ng-template";function IH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==GS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function qS(t){return 4===t.type&&t.value!==zS}function EH(t,e,n){return e===(4!==t.type||n?t.value:zS)}function TH(t,e,n){let r=4;const i=t.attrs||[],s=function CH(t){for(let e=0;e<t.length;e++)if(LC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!EH(t,u,n)||""===u&&1===e.length){if(Qn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!IH(t.attrs,c,n)){if(Qn(r))return!1;o=!0}continue}const d=bH(8&r?"class":u,i,qS(t),n);if(-1===d){if(Qn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==GS(f,c,0)||2&r&&c!==h){if(Qn(r))return!1;o=!0}}}}else{if(!o&&!Qn(r)&&!Qn(u))return!1;if(o&&Qn(u))continue;o=!1,r=u|1&r}}return Qn(r)||o}function Qn(t){return 0==(1&t)}function bH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function SH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function WS(t,e,n=!1){for(let r=0;r<e.length;r++)if(TH(t,e[r],n))return!0;return!1}function KS(t,e){return t?":not("+e.trim()+")":e}function xH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qn(o)&&(e+=KS(s,i),i=""),r=o,s=s||!Qn(r);n++}return""!==i&&(e+=KS(s,i)),e}const q={};function et(t){QS(de(),b(),Zt()+t,!1)}function QS(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Zl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ed(e,s,0,n)}wi(n)}function oA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ig(i),o.contentQueries(2,e[s],s)}}}function Su(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,bC(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[Q]=a||t&&t[Q],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ko(t,e,n,r,i){let s=t.data[e];if(null===s)s=function mm(t,e,n,r,i){const s=SC(),o=yg(),u=t.data[e]=function WH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function dj(){return z.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ou(){const t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return hr(s,!0),s}function Mo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Au(t,e,n){Yl(e);try{const r=t.viewQuery;null!==r&&Dm(1,r,n);const i=t.template;null!==i&&aA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&oA(t,e),t.staticViewQueries&&Dm(2,t.viewQuery,n);const s=t.components;null!==s&&function GH(t,e){for(let n=0;n<e.length;n++)d4(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Jl()}}function Ro(t,e,n,r){const i=e[2];if(256!=(256&i)){Yl(e);try{bC(e),function AC(t){return z.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&aA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Zl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ed(e,c,0,null),Eg(e,0)}if(function c4(t){for(let e=Bg(t);null!==e;e=jg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&mg(s,1),i[2]|=1024}}}(e),function u4(t){for(let e=Bg(t);null!==e;e=jg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];gg(r)&&Ro(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&oA(t,e),o){const c=t.contentCheckHooks;null!==c&&Zl(e,c)}else{const c=t.contentHooks;null!==c&&ed(e,c,1),Eg(e,1)}!function $H(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)wi(~i);else{const s=i,o=n[++r],a=n[++r];hj(o,s),a(2,e[s])}}}finally{wi(-1)}}(t,e);const a=t.components;null!==a&&function HH(t,e){for(let n=0;n<e.length;n++)l4(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Dm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Zl(e,c)}else{const c=t.viewHooks;null!==c&&ed(e,c,2),Eg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,mg(e[3],-1))}finally{Jl()}}}function zH(t,e,n,r){const i=e[10],o=function TC(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&Au(t,e,r),Ro(t,e,n,r)}finally{!o&&i.end&&i.end()}}function aA(t,e,n,r,i){const s=Zt(),o=2&r;try{wi(-1),o&&e.length>20&&QS(t,e,20,!1),n(r,i)}finally{wi(s)}}function ym(t,e,n){!CC()||(function e4(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||cu(n,e),jt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Kn(u);c&&s4(e,n,u);const l=lu(e,t,a,n);jt(l,e),null!==o&&o4(0,a-i,l,u,0,o),c&&(In(n.index,e)[8]=l)}}(t,e,n,wn(n,e)),128==(128&n.flags)&&function t4(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function fj(){return z.lFrame.currentDirectiveIndex}();try{wi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];vg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&mA(c,l)}}finally{wi(-1),vg(a)}}(t,e,n))}function _m(t,e,n=wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function cA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ed(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ed(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function qH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:q);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function fA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function bn(t,e,n,r,i,s,o,a){const u=wn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(CA(t,n,l,r,i),ql(e)&&function YH(t,e){const n=In(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function QH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ue(s)?s.setProperty(u,r,i):bg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function vm(t,e,n,r){let i=!1;if(CC()){const s=function n4(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];WS(n,o.selectors,!1)&&(i||(i=[]),sd(cu(n,e),t,o.type),Kn(o)?(yA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,_A(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Mo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=nd(n.mergedAttrs,d.hostAttrs),vA(t,n,e,c,d),i4(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function KH(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||qS(e)?null:a4(d,s);o.push(h),a=fA(d,c,a),u=fA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function r4(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new pe(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=nd(n.mergedAttrs,n.attrs),i}function gA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function ZH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function mA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function yA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function i4(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function _A(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=hs(i.type)),o=new au(s,Kn(i),null);t.blueprint[r]=o,n[r]=o,gA(t,e,0,r,Mo(t,n,i.hostVars,q),i)}function s4(t,e,n){const r=wn(e,t),i=cA(n),s=t[10],o=Td(t,Su(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function mr(t,e,n,r,i,s){const o=wn(t,e);!function wm(t,e,n,r,i,s,o){if(null==s)Ue(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?G(s):o(s,r||"",i);Ue(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Q],o,s,t.value,n,r,i)}function o4(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function a4(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function wA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function l4(t,e){const n=In(e,t);if(gg(n)){const r=n[1];80&n[2]?Ro(r,n,r.template,n[8]):n[5]>0&&Im(n)}}function Im(t){for(let r=Bg(t);null!==r;r=jg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ro(o,s,o.template,s[8])}else s[5]>0&&Im(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=In(n[r],t);gg(i)&&i[5]>0&&Im(i)}}function d4(t,e){const n=In(e,t),r=n[1];(function h4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Au(r,n,n[8])}function Td(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Em(t){for(;t;){t[2]|=64;const e=Iu(t);if($B(t)&&!e)return t;t=e}return null}function IA(t){!function Tm(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lg(n),i=r[1];zH(i,r,i.template,n)}}(t[8])}function Dm(t,e,n){Ig(0),e(t,n)}const p4=(()=>Promise.resolve(null))();function EA(t){return t[7]||(t[7]=[])}function TA(t){return t.cleanup||(t.cleanup=[])}function DA(t,e){const n=t[9],r=n?n.get(Cu,null):null;r&&r.handleError(e)}function CA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Gr(t,e,n){const r=function Kl(t,e){return Xe(e[t])}(e,t);!function yS(t,e,n){Ue(t)?t.setValue(e,n):e.textContent=n}(t[Q],r,n)}function bd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Jp(i,a):2==s&&(r=Jp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Cm=new ee("INJECTOR",-1);class SA{get(e,n=gu){if(n===gu){const r=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw r.name="NullInjectorError",r}return n}}const Sm=new ee("Set Injector scope."),xu={},y4={};let Am;function AA(){return void 0===Am&&(Am=new SA),Am}function xA(t,e=null,n=null,r){const i=kA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function kA(t,e=null,n=null,r){return new _4(t,n,e||AA(),r)}class _4{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&fr(n,a=>this.processProvider(a,e,n)),fr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Cm,No(void 0,this));const o=this.records.get(Sm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:me(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=gu,r=$.Default){this.assertNotDestroyed();const i=tS(this),s=mi(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function C4(t){return"function"==typeof t||"object"==typeof t&&t instanceof ee}(e)&&eg(e);a=u&&this.injectableDefInScope(u)?No(xm(e),xu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?AA():this.parent).get(e,n=r&$.Optional&&n===gu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[cd]=o[cd]||[]).unshift(me(e)),i)throw o;return function Zj(t,e,n,r){const i=t[cd];throw e[eS]&&i.unshift(e[eS]),t.message=function e$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=me(e);if(Array.isArray(e))i=e.map(me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):me(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Wj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[cd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{mi(s),tS(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(me(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processInjectorType(e,n,r){if(!(e=X(e)))return!1;let i=lC(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=lC(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{fr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];fr(f,p=>this.processProvider(p,h,f||Ee))}}this.injectorDefTypes.add(o);const u=hs(o)||(()=>new o);this.records.set(o,No(u,xu));const c=i.providers;if(null!=c&&!a){const l=e;fr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Po(e=X(e))?e:X(e&&e.provide);const s=function w4(t,e,n){return RA(t)?No(void 0,t.useValue):No(function MA(t,e,n){let r;if(Po(t)){const i=X(t);return hs(i)||xm(i)}if(RA(t))r=()=>X(t.useValue);else if(function E4(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Pg(t.deps||[]));else if(function I4(t){return!(!t||!t.useExisting)}(t))r=()=>P(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function b4(t){return!!t.deps}(t))return hs(i)||xm(i);r=()=>new i(...Pg(t.deps))}return r}(t),xu)}(e);if(Po(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=No(void 0,xu,!0),o.factory=()=>Pg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===xu&&(n.value=y4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function D4(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function xm(t){const e=eg(t),n=null!==e?e.factory:hs(t);if(null!==n)return n;if(t instanceof ee)throw new pe(204,!1);if(t instanceof Function)return function v4(t){const e=t.length;if(e>0)throw function pu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new pe(204,!1);const n=function xB(t){const e=t&&(t[jl]||t[dC]);if(e){const n=function kB(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new pe(204,!1)}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RA(t){return null!==t&&"object"==typeof t&&Qj in t}function Po(t){return"function"==typeof t}let $t=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return xA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return xA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=gu,t.NULL=new SA,t.\u0275prov=K({token:t,providedIn:"any",factory:()=>P(Cm)}),t.__NG_ELEMENT_ID__=-1,t})();function P4(t,e){Xl(Lg(t)[1],ut())}let Dd=null;function Oo(){if(!Dd){const t=we.Symbol;if(t&&t.iterator)Dd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Dd=r)}}}return Dd}function ku(t){return!!function Nm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function Ht(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Pm(t,e,n,r){const i=b();return Ht(i,_o(),e)&&(de(),mr(Pe(),i,t,e,n,r)),Pm}function Lo(t,e,n,r){return Ht(t,_o(),n)?e+G(n)+r:q}function Ci(t,e,n,r,i,s,o,a){const u=b(),c=de(),l=t+20,d=c.firstCreatePass?function z4(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ko(e,t,4,o||null,vi(c,a));vm(e,n,l,vi(c,u)),Xl(e,l);const d=l.tViews=Ed(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];hr(d,!1);const h=u[Q].createComment("");fd(c,u,h,d),jt(h,u),Td(u,u[l]=wA(h,u,h,d)),Wl(d)&&ym(c,u,d),null!=o&&_m(u,d,a)}function L(t,e=$.Default){const n=b();return null===n?P(t,e):GC(ut(),n,X(t),e)}function Um(){throw new Error("invalid")}function zr(t,e,n){const r=b();return Ht(r,_o(),e)&&bn(de(),Pe(),r,t,e,r[Q],n,!1),zr}function Bm(t,e,n,r,i){const o=i?"class":"style";CA(t,n,e.inputs[o],o,r)}function ie(t,e,n,r){const i=b(),s=de(),o=20+t,a=i[Q],u=i[o]=Hg(a,e,function Ij(){return z.lFrame.currentNamespace}()),c=s.firstCreatePass?function fG(t,e,n,r,i,s,o){const a=e.consts,c=ko(e,t,2,i,vi(a,s));return vm(e,n,c,vi(a,o)),null!==c.attrs&&bd(c,c.attrs,!1),null!==c.mergedAttrs&&bd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];hr(c,!0);const l=c.mergedAttrs;null!==l&&td(a,u,l);const d=c.classes;null!==d&&Yg(a,u,d);const h=c.styles;return null!==h&&kS(a,u,h),64!=(64&c.flags)&&fd(s,i,u,c),0===function ij(){return z.lFrame.elementDepthCount}()&&jt(u,i),function sj(){z.lFrame.elementDepthCount++}(),Wl(c)&&(ym(s,i,c),function uA(t,e,n){if(ag(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&_m(i,c),ie}function te(){let t=ut();yg()?function _g(){z.lFrame.isParent=!1}():(t=t.parent,hr(t,!1));const e=t;!function oj(){z.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(Xl(n,t),ag(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Cj(t){return 0!=(16&t.flags)}(e)&&Bm(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Sj(t){return 0!=(32&t.flags)}(e)&&Bm(n,e,b(),e.stylesWithoutHost,!1),te}function xt(t,e,n,r){return ie(t,e,n,r),te(),xt}function Ad(t){return!!t&&"function"==typeof t.then}const fx=function hx(t){return!!t&&"function"==typeof t.subscribe};function xd(t,e,n,r){const i=b(),s=de(),o=ut();return function gx(t,e,n,r,i,s,o,a){const u=Wl(r),l=t.firstCreatePass&&TA(t),d=e[8],h=EA(e);let f=!0;if(3&r.type||a){const m=wn(r,e),v=a?a(m):m,y=h.length,E=a?N=>a(Xe(N[r.index])):r.index;if(Ue(n)){let N=null;if(!a&&u&&(N=function mG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=Hm(r,e,d,s,!1);const V=n.listen(v,i,s);h.push(s,V),l&&l.push(i,E,y,y+1)}}else s=Hm(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),l&&l.push(i,E,y,o)}else s=Hm(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const W=e[g[v]][g[v+1]].subscribe(s),ke=h.length;h.push(s,W),l&&l.push(i,r.index,ke,-(ke+1))}}}(s,i,i[Q],o,t,e,!!n,r),xd}function mx(t,e,n,r){try{return!1!==n(r)}catch(i){return DA(t,i),!1}}function Hm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?In(t.index,e):e;0==(32&e[2])&&Em(a);let u=mx(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=mx(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Gm(t=1){return function gj(t){return(z.lFrame.contextLView=function mj(t,e){for(;t>0;)e=e[15],t--;return e}(t,z.lFrame.contextLView))[8]}(t)}function zm(t,e,n){return ys(t,"",e,"",n),zm}function ys(t,e,n,r,i){const s=b(),o=Lo(s,e,n,r);return o!==q&&bn(de(),Pe(),s,t,o,s[Q],i,!1),ys}function ze(t,e=""){const n=b(),r=de(),i=t+20,s=r.firstCreatePass?ko(r,i,1,e,null):r.data[i],o=n[i]=function $g(t,e){return Ue(t)?t.createText(e):t.createTextNode(e)}(n[Q],e);fd(r,n,o,s),hr(s,!1)}function Nu(t){return Si("",t,""),Nu}function Si(t,e,n){const r=b(),i=Lo(r,t,e,n);return i!==q&&Gr(r,Zt(),i),Si}const Md="en-US";let a1=Md;class R1{}class o3{resolveComponentFactory(e){throw function s3(t){const e=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Vu=(()=>{class t{}return t.NULL=new o3,t})();function a3(){return Qo(ut(),b())}function Qo(t,e){return new Ai(wn(t,e))}let Ai=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=a3,t})();class P1{}let d3=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>null}),t})();class Uu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const O1=new Uu("13.3.12"),Zm={};function Ld(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Xe(s)),Wn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Ld(u[1],u,c,r)}const o=n.type;if(8&o)Ld(t,e,n.child,r);else if(32&o){const a=Ug(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=AS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Iu(e[16]);Ld(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Bu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Ld(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Wn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Gg(e,r),ad(n,r))}this._attachedToViewContainer=!1}vS(this._lView[1],this._lView)}onDestroy(e){!function hA(t,e,n,r){const i=EA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&TA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Em(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function bm(t,e,n){const r=e[10];r.begin&&r.begin();try{Ro(t,e,t.template,n)}catch(i){throw DA(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T$(t,e){Eu(t,e,e[Q],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new pe(902,"");this._appRef=e}}class h3 extends Bu{constructor(e){super(e),this._view=e}detectChanges(){IA(this._view)}checkNoChanges(){}get context(){return null}}class F1 extends Vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=At(e);return new ey(n,this.ngModule)}}function L1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ey extends R1{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function kH(t){return t.map(xH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return L1(this.componentDef.inputs)}get outputs(){return L1(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function p3(t,e){return{get:(n,r,i)=>{const s=t.get(n,Zm,i);return s!==Zm||r===Zm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(P1,EC),a=s.get(d3,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function dA(t,e,n){if(Ue(t))return t.selectRootElement(e,n===lr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Hg(o.createRenderer(null,this.componentDef),c,function f3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function HA(t,e){return{components:[],scheduler:t||yH,clean:p4,playerHandler:e||null,flags:0}}(),f=Ed(0,null,null,1,0,null,null,null,null,null),p=Su(null,f,h,d,null,null,o,u,a,s);let g,m;Yl(p);try{const v=function jA(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=ko(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(bd(u,c,!0),null!==t&&(td(i,t,c),null!==u.classes&&Yg(i,t,u.classes),null!==u.styles&&kS(i,t,u.styles)));const l=r.createRenderer(t,e),d=Su(n,cA(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(sd(cu(u,n),o,e.type),yA(o,u),_A(u,n.length,1)),Td(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)td(u,l,["ng-version",O1.full]);else{const{attrs:y,classes:E}=function MH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Qn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&td(u,l,y),E&&E.length>0&&Yg(u,l,E.join(" "))}if(m=pg(f,20),void 0!==n){const y=m.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const N=n[E];y.push(null!=N?Array.from(N):null)}}g=function $A(t,e,n,r,i){const s=n[1],o=function XH(t,e,n){const r=ut();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),vA(t,r,e,Mo(t,e,1,null),n));const i=lu(e,t,r.directiveStart,r);jt(i,e);const s=wn(r,e);return s&&jt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ut();e.contentQueries(1,o,u.directiveStart)}const a=ut();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(wi(a.index),gA(n[1],a,0,a.directiveStart,a.directiveEnd,e),mA(e,o)),o}(v,this.componentDef,p,h,[P4]),Au(f,p,null)}finally{Jl()}return new m3(this.componentType,g,Qo(m,p),p,m)}}class m3 extends class i3{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new h3(i),this.componentType=e}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class qr{}class V1{}const Yo=new Map;class j1 extends qr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new F1(this);const r=Nn(e);this._bootstrapComponents=gr(r.bootstrap),this._r3Injector=kA(e,n,[{provide:qr,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],me(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=$t.THROW_IF_NOT_FOUND,r=$.Default){return e===$t||e===qr||e===Cm?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ty extends V1{constructor(e){super(),this.moduleType=e,null!==Nn(e)&&function _3(t){const e=new Set;!function n(r){const i=Nn(r,!0),s=i.id;null!==s&&(function U1(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${me(e)} vs ${me(e.name)}`)}(s,Yo.get(s),r),Yo.set(s,r));const o=gr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new j1(this.moduleType,e)}}function ny(t){return e=>{setTimeout(t,void 0,e)}}const nn=class F3 extends Fr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=ny(u),a&&(a=ny(a)),c&&(c=ny(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof mn&&e.add(l),l}};Symbol;let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=B3,t})();const V3=Wr,U3=class extends V3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Su(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Au(n,r,e),new Bu(r)}};function B3(){return function Vd(t,e){return 4&t.type?new U3(e,t,Qo(t,e)):null}(ut(),b())}let er=(()=>{class t{}return t.__NG_ELEMENT_ID__=j3,t})();function j3(){return function Q1(t,e){let n;const r=e[t.index];if(Wn(r))n=r;else{let i;if(8&t.type)i=Xe(r);else{const s=e[Q];i=s.createComment("");const o=wn(t,e);ps(s,hd(s,o),i,function k$(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=wA(r,e,i,t),Td(e,n)}return new W1(n,t,e)}(ut(),b())}const $3=er,W1=class extends $3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const e=id(this._hostTNode,this._hostLView);if(UC(e)){const n=wo(e,this._hostLView),r=vo(e);return new Io(n[1].data[r+8],n)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=K1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function fu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new ey(At(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(qr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function rj(t){return Wn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new W1(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function D$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],QC(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function C$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Wg(s,o),u=r[Q],c=hd(u,o[7]);return null!==c&&function E$(t,e,n,r,i,s){r[0]=i,r[6]=e,Eu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),QC(iy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=K1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Gg(this._lContainer,n);r&&(ad(iy(this._lContainer),n),vS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Gg(this._lContainer,n);return r&&null!=ad(iy(this._lContainer),n)?new Bu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function K1(t){return t[8]}function iy(t){return t[8]||(t[8]=[])}function jd(...t){}const _y=new ee("Application Initializer");let vy=(()=>{class t{constructor(n){this.appInits=n,this.resolve=jd,this.reject=jd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ad(s))n.push(s);else if(fx(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(P(_y,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Gu=new ee("AppId",{providedIn:"root",factory:function yk(){return`${wy()}${wy()}${wy()}`}});function wy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _k=new ee("Platform Initializer"),zu=new ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vk=new ee("appBootstrapListener");let gq=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const xi=new ee("LocaleId",{providedIn:"root",factory:()=>Jj(xi,$.Optional|$.SkipSelf)||function mq(){return"undefined"!=typeof $localize&&$localize.locale||Md}()});class _q{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let wk=(()=>{class t{compileModuleSync(n){return new ty(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=gr(Nn(n).declarations).reduce((o,a)=>{const u=At(a);return u&&o.push(new ey(u)),o},[]);return new _q(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wq=(()=>Promise.resolve(0))();function Iy(t){"undefined"==typeof Zone?wq.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Iq(){let t=we.requestAnimationFrame,e=we.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bq(t){const e=()=>{!function Tq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ty(t),t.isCheckStableRunning=!0,Ey(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ty(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ik(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ek(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ik(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ek(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ty(t),Ey(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Eq,jd,jd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Eq={};function Ey(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ty(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ik(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ek(t){t._nesting--,Ey(t)}class Dq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let by=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(P(tt))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Cq=(()=>{class t{constructor(){this._applications=new Map,Dy.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Dy.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class Sq{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Dy=new Sq,vs=null;const Tk=new ee("AllowMultipleToken"),bk=new ee("PlatformOnDestroy");class Dk{constructor(e,n){this.name=e,this.token=n}}function Ck(t,e,n=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=Cy();if(!o||o.injector.get(Tk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Mq(t){if(vs&&!vs.get(Tk,!1))throw new pe(400,"");vs=t;const e=t.get(Sk),n=t.get(_k,null);n&&n.forEach(r=>r())}(function Nq(t=[],e){return $t.create({name:e,providers:[{provide:Sm,useValue:"platform"},{provide:bk,useValue:()=>vs=null},...t]})}(a,r))}return function Rq(t){const e=Cy();if(!e)throw new pe(401,"");return e}()}}function Cy(){var t;return null!==(t=null==vs?void 0:vs.get(Sk))&&void 0!==t?t:null}let Sk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function Pq(t,e){let n;return n="noop"===t?new Dq:("zone.js"===t?void 0:t)||new tt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:tt,useValue:a}];return a.run(()=>{const c=$t.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Cu,null);if(!d)throw new pe(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{Ay(this._modules,l),h.unsubscribe()})}),function Oq(t,e,n){try{const r=n();return Ad(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(vy);return h.runInitializers(),h.donePromise.then(()=>(function uz(t){_n(t,"Expected localeId to be defined"),"string"==typeof t&&(a1=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(xi,Md)||Md),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=Ak({},r);return function xq(t,e,n){const r=new ty(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Sy);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new pe(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(bk,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(P($t))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Ak(t,e){return Array.isArray(e)?e.reduce(Ak,t):Object.assign(Object.assign({},t),e)}let Sy=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ne(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Ne(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),Iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function EB(...t){const e=tu(t),n=function gB(t,e){return"number"==typeof Kp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?cr(r[0]):eu(n)(Vt(r,e)):Vr}(o,a.pipe(function TB(t={}){const{connector:e=(()=>new Fr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return Dt((g,m)=>{c++,!d&&!l&&h();const v=u=null!=u?u:e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Qp(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Za({next:y=>v.next(y),error:y=>{d=!0,h(),a=Qp(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=Qp(f,r),v.complete()}}),cr(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new pe(405,"");let i;i=n instanceof R1?n:this._injector.get(Vu).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function kq(t){return t.isBoundToModule}(i)?void 0:this._injector.get(qr),a=i.create($t.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(by,null),l=c&&a.injector.get(Cq);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),Ay(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new pe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ay(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(vk,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(P(tt),P($t),P(Cu),P(vy))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ay(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let kk=!0,xy=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vq,t})();function Vq(t){return function Uq(t,e,n){if(ql(t)&&!n){const r=In(t.index,e);return new Bu(r,r)}return 47&t.type?new Bu(e[16],e):null}(ut(),b(),16==(16&t))}class Ok{constructor(){}supports(e){return ku(e)}create(e){return new zq(e)}}const Gq=(t,e)=>e;class zq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gq}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Lk(r,i,s)?n:r,a=Lk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ku(e))throw new pe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function G4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new qq(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Fk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qq{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Fk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Wq,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Uk(){return new Gd([new Ok])}let Gd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Uk()),deps:[[t,new _u,new yt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new pe(901,"")}}return t.\u0275prov=K({token:t,providedIn:"root",factory:Uk}),t})();const Xq=Ck(null,"core",[]);let Zq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(P(Sy))},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({}),t})(),zd=null;function ki(){return zd}const Dn=new ee("DocumentToken");let Is=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return function r6(){return P(jk)}()},providedIn:"platform"}),t})();const i6=new ee("Location Initialized");let jk=(()=>{class t extends Is{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ki().getBaseHref(this._doc)}onPopState(n){const r=ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){$k()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){$k()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(P(Dn))},t.\u0275prov=K({token:t,factory:function(){return function s6(){return new jk(P(Dn))}()},providedIn:"platform"}),t})();function $k(){return!!window.history.pushState}function Py(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Hk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let Xo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:function(){return function o6(t){const e=P(Dn).location;return new Gk(P(Is),e&&e.origin||"")}()},providedIn:"root"}),t})();const Oy=new ee("appBaseHref");let Gk=(()=>{class t extends Xo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Py(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(P(Is),P(Oy,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),a6=(()=>{class t extends Xo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Py(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(P(Is),P(Oy,8))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Fy=(()=>{class t{constructor(n,r){this._subject=new nn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Hk(zk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function c6(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,zk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=Py,t.stripTrailingSlash=Hk,t.\u0275fac=function(n){return new(n||t)(P(Xo),P(Is))},t.\u0275prov=K({token:t,factory:function(){return function u6(){return new Fy(P(Xo),P(Is))}()},providedIn:"root"}),t})();function zk(t){return t.replace(/\/index.html$/,"")}function eM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class K6{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qu=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new K6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),tM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{tM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(L(er),L(Wr),L(Gd))},t.\u0275dir=Ut({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function tM(t,e){t.context.$implicit=e.item}let qy=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Q6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nM("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nM("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(L(er),L(Wr))},t.\u0275dir=Ut({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Q6{constructor(){this.$implicit=null,this.ngIf=null}}function nM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${me(e)}'.`)}let E9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({}),t})();let C9=(()=>{class t{}return t.\u0275prov=K({token:t,providedIn:"root",factory:()=>new S9(P(Dn),window)}),t})();class S9{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function A9(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oM(this.window.history)||oM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function oM(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class aM{}class Jy extends class x9 extends class n6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function t6(t){zd||(zd=t)}(new Jy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function k9(){return Yu=Yu||document.querySelector("base"),Yu?Yu.getAttribute("href"):null}();return null==n?null:function M9(t){th=th||document.createElement("a"),th.setAttribute("href",t);const e=th.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Yu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eM(document.cookie,e)}}let th,Yu=null;const uM=new ee("TRANSITION_ID"),N9=[{provide:_y,useFactory:function R9(t,e,n){return()=>{n.get(vy).donePromise.then(()=>{const r=ki(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[uM,Dn,$t],multi:!0}];class Xy{static init(){!function Aq(t){Dy=t}(new Xy)}addToWindow(e){we.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?ki().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let P9=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const nh=new ee("EventManagerPlugins");let rh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(P(nh),P(tt))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class cM{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ki().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let lM=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),Ju=(()=>{class t extends lM{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(dM),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(dM))}}return t.\u0275fac=function(n){return new(n||t)(P(Dn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function dM(t){ki().remove(t)}const Zy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},e_=/%COMP%/g;function ih(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ih(t,i,n):(i=i.replace(e_,t),n.push(i))}return n}function pM(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let t_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new n_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case lr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new B9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case lr.ShadowDom:return new j9(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ih(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(P(rh),P(Ju),P(Gu))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class n_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Zy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Zy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Zy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,pM(r)):this.eventManager.addEventListener(e,n,pM(r))}}class B9 extends n_{constructor(e,n,r,i){super(e),this.component=r;const s=ih(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function L9(t){return"_ngcontent-%COMP%".replace(e_,t)}(i+"-"+r.id),this.hostAttr=function V9(t){return"_nghost-%COMP%".replace(e_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class j9 extends n_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ih(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let $9=(()=>{class t extends cM{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(P(Dn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const mM=["alt","control","meta","shift"],G9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},z9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q9=(()=>{class t extends cM{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(mM.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function W9(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yM.hasOwnProperty(e)&&(e=yM[e]))}return G9[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mM.forEach(s=>{s!=i&&z9[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(P(Dn))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const J9=Ck(Xq,"browser",[{provide:zu,useValue:"browser"},{provide:_k,useValue:function K9(){Jy.makeCurrent(),Xy.init()},multi:!0},{provide:Dn,useFactory:function Y9(){return function ZB(t){hg=t}(document),document},deps:[]}]),X9=[{provide:Sm,useValue:"root"},{provide:Cu,useFactory:function Q9(){return new Cu},deps:[]},{provide:nh,useClass:$9,multi:!0,deps:[Dn,tt,zu]},{provide:nh,useClass:q9,multi:!0,deps:[Dn]},{provide:t_,useClass:t_,deps:[rh,Ju,Gu]},{provide:P1,useExisting:t_},{provide:lM,useExisting:Ju},{provide:Ju,useClass:Ju,deps:[Dn]},{provide:by,useClass:by,deps:[tt]},{provide:rh,useClass:rh,deps:[nh,tt]},{provide:aM,useClass:P9,deps:[]}];let Z9=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Gu,useValue:n.appId},{provide:uM,useExisting:Gu},N9]}}}return t.\u0275fac=function(n){return new(n||t)(P(t,12))},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({providers:X9,imports:[E9,Zq]}),t})();function Y(...t){return Vt(t,tu(t))}function Zo(t,e){return oe(e)?gt(t,e,1):gt(t,1)}function Es(t,e){return Dt((n,r)=>{let i=0;n.subscribe(Ct(r,s=>t.call(e,s,i++)&&r.next(s)))})}"undefined"!=typeof window&&window;class wM{}class IM{}class Yr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Yr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Yr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class l5{encodeKey(e){return EM(e)}encodeValue(e){return EM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const h5=/%(\d[a-f0-9])/gi,f5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function EM(t){return encodeURIComponent(t).replace(h5,(e,n)=>{var r;return null!==(r=f5[n])&&void 0!==r?r:e})}function TM(t){return`${t}`}class Ri{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new l5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function d5(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Ri({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(TM(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(TM(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class p5{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bM(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function DM(t){return"undefined"!=typeof Blob&&t instanceof Blob}function CM(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Xu{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function g5(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yr),this.context||(this.context=new p5),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Ri,this.urlWithParams=n}serializeBody(){return null===this.body?null:bM(this.body)||DM(this.body)||CM(this.body)||function m5(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ri?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CM(this.body)?null:DM(this.body)?this.body.type||null:bM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var n;const r=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,u=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=null!==(n=e.context)&&void 0!==n?n:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new Xu(r,i,o,{params:l,headers:c,context:d,reportProgress:u,responseType:s,withCredentials:a})}}var it=(()=>((it=it||{})[it.Sent=0]="Sent",it[it.UploadProgress=1]="UploadProgress",it[it.ResponseHeader=2]="ResponseHeader",it[it.DownloadProgress=3]="DownloadProgress",it[it.Response=4]="Response",it[it.User=5]="User",it))();class i_{constructor(e,n=200,r="OK"){this.headers=e.headers||new Yr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class s_ extends i_{constructor(e={}){super(e),this.type=it.ResponseHeader}clone(e={}){return new s_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class sh extends i_{constructor(e={}){super(e),this.type=it.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class SM extends i_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function o_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let y5=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Xu)s=n;else{let u,c;u=i.headers instanceof Yr?i.headers:new Yr(i.headers),i.params&&(c=i.params instanceof Ri?i.params:new Ri({fromObject:i.params})),s=new Xu(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Y(s).pipe(Zo(u=>this.handler.handle(u)));if(n instanceof Xu||"events"===i.observe)return o;const a=o.pipe(Es(u=>u instanceof sh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ge(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ge(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ge(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ge(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ri).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,o_(i,r))}post(n,r,i={}){return this.request("POST",n,o_(i,r))}put(n,r,i={}){return this.request("PUT",n,o_(i,r))}}return t.\u0275fac=function(n){return new(n||t)(P(wM))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();class AM{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const xM=new ee("HTTP_INTERCEPTORS");let _5=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const v5=/^\)\]\}',?\n/;let kM=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ne(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Yr(i.getAllResponseHeaders()),g=function w5(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new s_({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),v=null;204!==p&&(v=void 0===i.response?i.responseText:i.response),0===p&&(p=v?200:0);let y=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof v){const E=v;v=v.replace(v5,"");try{v=""!==v?JSON.parse(v):null}catch(N){v=E,y&&(y=!1,v={error:N,text:v})}}y?(r.next(new sh({body:v,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new SM({error:v,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new SM({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:it.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:it.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:it.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(P(aM))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const a_=new ee("XSRF_COOKIE_NAME"),u_=new ee("XSRF_HEADER_NAME");class MM{}let I5=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=eM(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(P(Dn),P(zu),P(a_))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),c_=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(P(MM),P(u_))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),E5=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(xM,[]);this.chain=r.reduceRight((i,s)=>new AM(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(P(IM),P($t))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),T5=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:c_,useClass:_5}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:a_,useValue:n.cookieName}:[],n.headerName?{provide:u_,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({providers:[c_,{provide:xM,useExisting:c_,multi:!0},{provide:MM,useClass:I5},{provide:a_,useValue:"XSRF-TOKEN"},{provide:u_,useValue:"X-XSRF-TOKEN"}]}),t})(),b5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({providers:[y5,{provide:wM,useClass:E5},kM,{provide:IM,useExisting:kM}],imports:[[T5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function RM(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){RM(s,r,i,o,a,"next",u)}function a(u){RM(s,r,i,o,a,"throw",u)}o(void 0)})}}const NM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new A5;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oh=function(t){return function(t){const e=NM(t);return d_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ah=function(t){try{return d_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},uh=()=>{try{return function M5(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&ah(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},OM=()=>{var t;return null===(t=uh())||void 0===t?void 0:t.config};class ch{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Cn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ts(){try{return"object"==typeof indexedDB}catch(t){return!1}}function Zu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function f_(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}}class wr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function H5(t,e){return t.replace(G5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new rr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const G5=/\{\$([^}]+)}/g;function p_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(LM(s)&&LM(o)){if(!p_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LM(t){return null!==t&&"object"==typeof t}function VM(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class q5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function W5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=g_),void 0===i.error&&(i.error=g_),void 0===i.complete&&(i.complete=g_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g_(){}function y_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Ni(t){return t&&t._delegate?t._delegate:t}class Gt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bs="[DEFAULT]";class Z5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ch;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tW(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const __=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const UM={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},rW=ce.INFO,iW={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},sW=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=iW[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ea{constructor(e){this.name=e,this._logLevel=rW,this._logHandler=sW,this._userLogHandler=null,__.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?UM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}let BM,jM;const $M=new WeakMap,v_=new WeakMap,HM=new WeakMap,w_=new WeakMap,I_=new WeakMap;let E_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return v_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||HM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fW(t){return"function"==typeof t?function hW(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uW(){return jM||(jM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(T_(this),e),Pi($M.get(this))}:function(...e){return Pi(t.apply(T_(this),e))}:function(e,...n){const r=t.call(T_(this),e,...n);return HM.set(r,e.sort?e.sort():[e]),Pi(r)}}(t):(t instanceof IDBTransaction&&function lW(t){if(v_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});v_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function aW(){return BM||(BM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,E_):t)}function Pi(t){if(t instanceof IDBRequest)return function cW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Pi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$M.set(n,t)}).catch(()=>{}),I_.set(e,t),e}(t);if(w_.has(t))return w_.get(t);const e=fW(t);return e!==t&&(w_.set(t,e),I_.set(e,t)),e}const T_=t=>I_.get(t),gW=["get","getKey","getAll","getAllKeys","count"],mW=["put","add","delete","clear"],b_=new Map;function GM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(b_.get(e))return b_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gW.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return b_.set(e,s),s}!function dW(t){E_=t(E_)}(t=>Lp(Fp({},t),{get:(e,n,r)=>GM(e,n)||t.get(e,n,r),has:(e,n)=>!!GM(e,n)||t.has(e,n)}));class yW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function _W(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const D_="@firebase/app",Ds=new ea("@firebase/app"),dh="[DEFAULT]",GW={[D_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cs=new Map,hh=new Map;function zW(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(hh.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,t);for(const n of Cs.values())zW(n,t);return!0}function fh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Jr=new wr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class WW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const ec="9.23.0";function qM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:dh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=OM()),!n)throw Jr.create("no-options");const s=Cs.get(i);if(s){if(p_(n,s.options)&&p_(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new nW(i);for(const u of hh.values())o.addComponent(u);const a=new WW(n,r,o);return Cs.set(i,a),a}function WM(t=dh){const e=Cs.get(t);if(!e&&t===dh&&OM())return qM();if(!e)throw Jr.create("no-app",{appName:t});return e}function KM(){return Array.from(Cs.values())}function We(t,e,n){var r;let i=null!==(r=GW[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ds.warn(a.join(" "))}sn(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tc="firebase-heartbeat-store";let eR,tR,S_=null;function QM(){return S_||(S_=function pW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Pi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pi(o.result),u.oldVersion,u.newVersion,Pi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(tc)}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),S_}function A_(){return(A_=_(function*(t){try{return yield(yield QM()).transaction(tc).objectStore(tc).get(JM(t))}catch(e){if(e instanceof rr)Ds.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ds.warn(n.message)}}})).apply(this,arguments)}function YM(t,e){return x_.apply(this,arguments)}function x_(){return(x_=_(function*(t,e){try{const r=(yield QM()).transaction(tc,"readwrite");yield r.objectStore(tc).put(e,JM(t)),yield r.done}catch(n){if(n instanceof rr)Ds.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});Ds.warn(r.message)}}})).apply(this,arguments)}function JM(t){return`${t.name}!${t.options.appId}`}class ZW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=XM(),{heartbeatsToSend:r,unsentEntries:i}=function e7(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=oh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function XM(){return(new Date).toISOString().substring(0,10)}class t7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ts()&&Zu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function YW(t){return A_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return YM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ZM(t){return oh(JSON.stringify({version:2,heartbeats:t})).length}!function n7(t){sn(new Gt("platform-logger",e=>new yW(e),"PRIVATE")),sn(new Gt("heartbeat",e=>new ZW(e),"PRIVATE")),We(D_,"0.9.13",t),We(D_,"0.9.13","esm2017"),We("fire-js","")}(""),We("firebase","9.23.0","app");const nR=new WeakMap,k_=new WeakMap,rR=new WeakMap,M_=new WeakMap,R_=new WeakMap;let N_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return k_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||rR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function h7(t){return"function"==typeof t?function d7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function a7(){return tR||(tR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(P_(this),e),Oi(nR.get(this))}:function(...e){return Oi(t.apply(P_(this),e))}:function(e,...n){const r=t.call(P_(this),e,...n);return rR.set(r,e.sort?e.sort():[e]),Oi(r)}}(t):(t instanceof IDBTransaction&&function c7(t){if(k_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});k_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function o7(){return eR||(eR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,N_):t)}function Oi(t){if(t instanceof IDBRequest)return function u7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nR.set(n,t)}).catch(()=>{}),R_.set(e,t),e}(t);if(M_.has(t))return M_.get(t);const e=h7(t);return e!==t&&(M_.set(t,e),R_.set(e,t)),e}const P_=t=>R_.get(t),p7=["get","getKey","getAll","getAllKeys","count"],g7=["put","add","delete","clear"],O_=new Map;function iR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(O_.get(e))return O_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=g7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!p7.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return O_.set(e,s),s}!function l7(t){N_=t(N_)}(t=>Lp(Fp({},t),{get:(e,n,r)=>iR(e,n)||t.get(e,n,r),has:(e,n)=>!!iR(e,n)||t.has(e,n)}));const sR="@firebase/installations",aR="w:0.6.4",uR="FIS_v2",Xr=new wr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cR(t){return t instanceof rr&&t.code.includes("request-failed")}function L_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function lR(t){return{token:t.token,requestStatus:2,expiresIn:I7(t.expiresIn),creationTime:Date.now()}}function V_(t,e){return U_.apply(this,arguments)}function U_(){return(U_=_(function*(t,e){const r=(yield e.json()).error;return Xr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function dR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hR(t,{refreshToken:e}){const n=dR(t);return n.append("Authorization",function E7(t){return`${uR} ${t}`}(e)),n}function B_(t){return j_.apply(this,arguments)}function j_(){return(j_=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function I7(t){return Number(t.replace("s","000"))}function T7(t,e){return $_.apply(this,arguments)}function $_(){return($_=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=L_(t),i=dR(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:uR,appId:t.appId,sdkVersion:aR})},u=yield B_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:lR(c.authToken)}}throw yield V_("Create Installation",u)})).apply(this,arguments)}function fR(t){return new Promise(e=>{setTimeout(e,t)})}const D7=/^[cdef][\w-]{21}$/;function C7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function S7(t){return function b7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return D7.test(n)?n:""}catch(t){return""}}function ta(t){return`${t.appName}!${t.appId}`}const na=new Map;function pR(t,e){const n=ta(t);gR(n,e),function k7(t,e){const n=function mR(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=t=>{gR(t.data.key,t.data.fid)}),Ss}();n&&n.postMessage({key:t,fid:e}),function yR(){0===na.size&&Ss&&(Ss.close(),Ss=null)}()}(n,e)}function gR(t,e){const n=na.get(t);if(n)for(const r of n)r(e)}let Ss=null;const As="firebase-installations-store";let G_=null;function z_(){return G_||(G_=function f7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Oi(o.result),u.oldVersion,u.newVersion,Oi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(As)}})),G_}function ph(t,e){return q_.apply(this,arguments)}function q_(){return(q_=_(function*(t,e){const n=ta(t),i=(yield z_()).transaction(As,"readwrite"),s=i.objectStore(As),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&pR(t,e.fid),e})).apply(this,arguments)}function W_(t){return K_.apply(this,arguments)}function K_(){return(K_=_(function*(t){const e=ta(t),r=(yield z_()).transaction(As,"readwrite");yield r.objectStore(As).delete(e),yield r.done})).apply(this,arguments)}function nc(t,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=_(function*(t,e){const n=ta(t),i=(yield z_()).transaction(As,"readwrite"),s=i.objectStore(As),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&pR(t,a.fid),a})).apply(this,arguments)}function Y_(t){return J_.apply(this,arguments)}function J_(){return(J_=_(function*(t){let e;const n=yield nc(t.appConfig,r=>{const i=N7(r),s=P7(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function N7(t){return vR(t||{fid:C7(),registrationStatus:0})}function P7(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Xr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function O7(t,e){return X_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:F7(t)}:{installationEntry:e}}function X_(){return(X_=_(function*(t,e){try{const n=yield T7(t,e);return ph(t.appConfig,n)}catch(n){throw cR(n)&&409===n.customData.serverCode?yield W_(t.appConfig):yield ph(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function F7(t){return Z_.apply(this,arguments)}function Z_(){return(Z_=_(function*(t){let e=yield _R(t.appConfig);for(;1===e.registrationStatus;)yield fR(100),e=yield _R(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Y_(t);return r||n}return e})).apply(this,arguments)}function _R(t){return nc(t,e=>{if(!e)throw Xr.create("installation-not-found");return vR(e)})}function vR(t){return function L7(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function V7(t,e){return ev.apply(this,arguments)}function ev(){return(ev=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=U7(t,n),i=hR(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:aR,appId:t.appId}})},u=yield B_(()=>fetch(r,a));if(u.ok)return lR(yield u.json());throw yield V_("Generate Auth Token",u)})).apply(this,arguments)}function U7(t,{fid:e}){return`${L_(t)}/${e}/authTokens:generate`}function tv(t){return nv.apply(this,arguments)}function nv(){return(nv=_(function*(t,e=!1){let n;const r=yield nc(t.appConfig,s=>{if(!IR(s))throw Xr.create("not-registered");const o=s.authToken;if(!e&&$7(o))return s;if(1===o.requestStatus)return n=B7(t,e),s;{if(!navigator.onLine)throw Xr.create("app-offline");const a=G7(s);return n=j7(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function B7(t,e){return rv.apply(this,arguments)}function rv(){return(rv=_(function*(t,e){let n=yield wR(t.appConfig);for(;1===n.authToken.requestStatus;)yield fR(100),n=yield wR(t.appConfig);const r=n.authToken;return 0===r.requestStatus?tv(t,e):r})).apply(this,arguments)}function wR(t){return nc(t,e=>{if(!IR(e))throw Xr.create("not-registered");return function z7(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function j7(t,e){return iv.apply(this,arguments)}function iv(){return(iv=_(function*(t,e){try{const n=yield V7(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ph(t.appConfig,r),n}catch(n){if(!cR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ph(t.appConfig,r)}else yield W_(t.appConfig);throw n}})).apply(this,arguments)}function IR(t){return void 0!==t&&2===t.registrationStatus}function $7(t){return 2===t.requestStatus&&!function H7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function G7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function sv(){return(sv=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Y_(e);return r?r.catch(console.error):tv(e).catch(console.error),n.fid})).apply(this,arguments)}function ov(){return(ov=_(function*(t,e=!1){const n=t;return yield K7(n),(yield tv(n,e)).token})).apply(this,arguments)}function K7(t){return av.apply(this,arguments)}function av(){return(av=_(function*(t){const{registrationPromise:e}=yield Y_(t);e&&(yield e)})).apply(this,arguments)}function lv(t){return Xr.create("missing-app-config-values",{valueName:t})}const ER="installations",Z7=t=>{const e=t.getProvider("app").getImmediate(),n=function J7(t){if(!t||!t.options)throw lv("App Configuration");if(!t.name)throw lv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:fh(e,"heartbeat"),_delete:()=>Promise.resolve()}},e8=t=>{const n=fh(t.getProvider("app").getImmediate(),ER).getImmediate();return{getId:()=>function q7(t){return sv.apply(this,arguments)}(n),getToken:i=>function W7(t){return ov.apply(this,arguments)}(n,i)}};(function t8(){sn(new Gt(ER,Z7,"PUBLIC")),sn(new Gt("installations-internal",e8,"PRIVATE"))})(),We(sR,"0.6.4"),We(sR,"0.6.4","esm2017");const dv="@firebase/remote-config",dn=new wr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class h8{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function f8(t=navigator){return t.languages&&t.languages[0]||t.language}class p8{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:f8()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",y(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let y="fetch-client-network";throw"AbortError"===(null==v?void 0:v.name)&&(y="fetch-timeout"),dn.create(y,{originalErrorMessage:null==v?void 0:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw dn.create("fetch-client-parse",{originalErrorMessage:null==y?void 0:y.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw dn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class y8{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function g8(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function m8(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+y_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class w8{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mh(t,e){const n=t.target.error||void 0;return dn.create(e,{originalErrorMessage:n&&(null==n?void 0:n.message)})}const xs="app_namespace_store";class b8{constructor(e,n,r,i=function T8(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(mh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(n){e(dn.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xs],"readonly").objectStore(xs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(mh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(dn.create("storage-get",{originalErrorMessage:null==c?void 0:c.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([xs],"readwrite").objectStore(xs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(mh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(dn.create("storage-set",{originalErrorMessage:null==l?void 0:l.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([xs],"readwrite").objectStore(xs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(mh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(dn.create("storage-delete",{originalErrorMessage:null==c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class D8{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function S8(){return mv.apply(this,arguments)}function mv(){return(mv=_(function*(){if(!Ts())return!1;try{return yield Zu()}catch(t){return!1}})).apply(this,arguments)}let CR,SR;!function C8(){sn(new Gt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw dn.create("registration-window");if(!Ts())throw dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw dn.create("registration-project-id");if(!o)throw dn.create("registration-api-key");if(!a)throw dn.create("registration-app-id");const u=new b8(a,r.name,n=n||"firebase"),c=new D8(u),l=new ea(dv);l.logLevel=ce.ERROR;const d=new p8(i,ec,n,s,o,a),h=new y8(d,u),f=new h8(h,u,c,l),p=new w8(r,f,c,u,l);return function c8(t){const e=Ni(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),We(dv,"0.4.4"),We(dv,"0.4.4","esm2017")}();const AR=new WeakMap,yv=new WeakMap,xR=new WeakMap,_v=new WeakMap,vv=new WeakMap;let wv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return yv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function O8(t){return"function"==typeof t?function P8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function k8(){return SR||(SR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Iv(this),e),Zr(AR.get(this))}:function(...e){return Zr(t.apply(Iv(this),e))}:function(e,...n){const r=t.call(Iv(this),e,...n);return xR.set(r,e.sort?e.sort():[e]),Zr(r)}}(t):(t instanceof IDBTransaction&&function R8(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function x8(){return CR||(CR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,wv):t)}function Zr(t){if(t instanceof IDBRequest)return function M8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AR.set(n,t)}).catch(()=>{}),vv.set(e,t),e}(t);if(_v.has(t))return _v.get(t);const e=O8(t);return e!==t&&(_v.set(t,e),vv.set(e,t)),e}const Iv=t=>vv.get(t);function kR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zr(o.result),u.oldVersion,u.newVersion,Zr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Ev(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Zr(n).then(()=>{})}const F8=["get","getKey","getAll","getAllKeys","count"],L8=["put","add","delete","clear"],Tv=new Map;function MR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Tv.get(e))return Tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!F8.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Tv.set(e,s),s}!function N8(t){wv=t(wv)}(t=>Lp(Fp({},t),{get:(e,n,r)=>MR(e,n)||t.get(e,n,r),has:(e,n)=>!!MR(e,n)||t.has(e,n)}));const V8="/firebase-messaging-sw.js",U8="/firebase-cloud-messaging-push-scope",RR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NR="google.c.a.c_id",j8="google.c.a.c_l",$8="google.c.a.ts",H8="google.c.a.e";var ra=(()=>{return(t=ra||(ra={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ra;var t})();function ei(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function G8(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const bv="fcm_token_details_db",PR="fcm_token_object_Store";function q8(t){return Dv.apply(this,arguments)}function Dv(){return Dv=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(bv))return null;let e=null;return(yield kR(bv,5,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(PR))return;const c=a.objectStore(PR),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ei(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Ev(bv),yield Ev("fcm_vapid_details_db"),yield Ev("undefined"),W8(e)?e:null;var r}),Dv.apply(this,arguments)}function W8(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ks="firebase-messaging-store";let Cv=null;function Sv(){return Cv||(Cv=kR("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ks)}})),Cv}function OR(t){return Av.apply(this,arguments)}function Av(){return(Av=_(function*(t){const e=Rv(t),r=yield(yield Sv()).transaction(ks).objectStore(ks).get(e);if(r)return r;{const i=yield q8(t.appConfig.senderId);if(i)return yield xv(t,i),i}})).apply(this,arguments)}function xv(t,e){return kv.apply(this,arguments)}function kv(){return(kv=_(function*(t,e){const n=Rv(t),i=(yield Sv()).transaction(ks,"readwrite");return yield i.objectStore(ks).put(e,n),yield i.done,e})).apply(this,arguments)}function Y8(t){return Mv.apply(this,arguments)}function Mv(){return(Mv=_(function*(t){const e=Rv(t),r=(yield Sv()).transaction(ks,"readwrite");yield r.objectStore(ks).delete(e),yield r.done})).apply(this,arguments)}function Rv({appConfig:t}){return t.appId}const kt=new wr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function X8(t,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=_(function*(t,e){const n=yield Lv(t),r=LR(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Fv(t.appConfig),i)).json()}catch(o){throw kt.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw kt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw kt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Z8(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=_(function*(t,e){const n=yield Lv(t),r=LR(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Fv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw kt.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw kt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw kt.create("token-update-no-token");return s.token})).apply(this,arguments)}function FR(t,e){return Ov.apply(this,arguments)}function Ov(){return(Ov=_(function*(t,e){const r={method:"DELETE",headers:yield Lv(t)};try{const s=yield(yield fetch(`${Fv(t.appConfig)}/${e}`,r)).json();if(s.error)throw kt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw kt.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function Fv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Lv(t){return Vv.apply(this,arguments)}function Vv(){return(Vv=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function LR({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==RR&&(i.web.applicationPubKey=r),i}const eK=6048e5;function tK(t){return Uv.apply(this,arguments)}function Uv(){return(Uv=_(function*(t){const e=yield rK(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ei(e.getKey("auth")),p256dh:ei(e.getKey("p256dh"))},r=yield OR(t.firebaseDependencies);if(r){if(iK(r.subscriptionOptions,n))return Date.now()>=r.createTime+eK?nK(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield FR(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return UR(t.firebaseDependencies,n)}return UR(t.firebaseDependencies,n)})).apply(this,arguments)}function VR(t){return Bv.apply(this,arguments)}function Bv(){return(Bv=_(function*(t){const e=yield OR(t.firebaseDependencies);e&&(yield FR(t.firebaseDependencies,e.token),yield Y8(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function nK(t,e){return jv.apply(this,arguments)}function jv(){return(jv=_(function*(t,e){try{const n=yield Z8(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield xv(t.firebaseDependencies,r),n}catch(n){throw yield VR(t),n}})).apply(this,arguments)}function UR(t,e){return $v.apply(this,arguments)}function $v(){return($v=_(function*(t,e){const r={token:yield X8(t,e),createTime:Date.now(),subscriptionOptions:e};return yield xv(t,r),r.token})).apply(this,arguments)}function rK(t,e){return Hv.apply(this,arguments)}function Hv(){return(Hv=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:G8(e)})})).apply(this,arguments)}function iK(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function BR(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sK(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function oK(t,e){!e.data||(t.data=e.data)}(e,t),function aK(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(null===(n=e.notification)||void 0===n?void 0:n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function uK(t){return"object"==typeof t&&!!t&&NR in t}function jR(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Gv(t){return kt.create("missing-app-config-values",{valueName:t})}jR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lK{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function cK(t){if(!t||!t.options)throw Gv("App Configuration Object");if(!t.name)throw Gv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Gv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function $R(t){return zv.apply(this,arguments)}function zv(){return(zv=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(V8,{scope:U8}),t.swRegistration.update().catch(()=>{})}catch(e){throw kt.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function dK(t,e){return qv.apply(this,arguments)}function qv(){return(qv=_(function*(t,e){if(!e&&!t.swRegistration&&(yield $R(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function hK(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=RR)})).apply(this,arguments)}function Kv(){return(Kv=_(function*(t,e){if(!navigator)throw kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kt.create("permission-blocked");return yield hK(t,null==e?void 0:e.vapidKey),yield dK(t,null==e?void 0:e.serviceWorkerRegistration),tK(t)})).apply(this,arguments)}function fK(t,e,n){return Qv.apply(this,arguments)}function Qv(){return(Qv=_(function*(t,e,n){const r=pK(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[NR],message_name:n[j8],message_time:n[$8],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pK(t){switch(t){case ra.NOTIFICATION_CLICKED:return"notification_open";case ra.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yv(){return(Yv=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ra.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(BR(n)):t.onMessageHandler.next(BR(n)));const r=n.data;uK(r)&&"1"===r[H8]&&(yield fK(t,n.messageType,r))})).apply(this,arguments)}const GR="@firebase/messaging",mK=t=>{const e=new lK(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function gK(t,e){return Yv.apply(this,arguments)}(e,n)),e},yK=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function HR(t,e){return Kv.apply(this,arguments)}(e,r)}};function qR(){return Jv.apply(this,arguments)}function Jv(){return(Jv=_(function*(){try{yield Zu()}catch(t){return!1}return"undefined"!=typeof window&&Ts()&&f_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _K(){sn(new Gt("messaging",mK,"PUBLIC")),sn(new Gt("messaging-internal",yK,"PRIVATE")),We(GR,"0.12.4"),We(GR,"0.12.4","esm2017")}();const yh="analytics",IK="firebase_id",bK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ew="https://www.googletagmanager.com/gtag/js",_t=new ea("@firebase/analytics"),on=new wr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function CK(t){if(!t.startsWith(ew)){const e=on.create("invalid-gtag-resource",{gtagURL:t});return _t.warn(e.message),""}return t}function WR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function AK(t,e){const n=function SK(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:CK}),r=document.createElement("script"),i=`${ew}?l=${t}&id=${e}`;r.src=n?null==n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function kK(t,e,n,r,i,s){return tw.apply(this,arguments)}function tw(){return(tw=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield WR(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){_t.error(a)}t("config",i,s)})).apply(this,arguments)}function MK(t,e,n,r,i){return nw.apply(this,arguments)}function nw(){return(nw=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield WR(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){_t.error(s)}})).apply(this,arguments)}function PK(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ew)&&n.src.includes(t))return n;return null}const KR=new class LK{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function VK(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function UK(t){return rw.apply(this,arguments)}function rw(){return(rw=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:VK(r)},s=bK.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw on.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function BK(t){return iw.apply(this,arguments)}function iw(){return(iw=_(function*(t,e=KR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw on.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw on.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HK;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:6e4),QR({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function QR(t,e,n){return sw.apply(this,arguments)}function sw(){return(sw=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KR){var s;const{appId:o,measurementId:a}=t;try{yield jK(r,e)}catch(u){if(a)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==u?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield UK(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!$K(c)){if(i.deleteThrottleMetadata(o),a)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=null==c?void 0:c.customData)||void 0===s?void 0:s.httpStatus)?y_(n,i.intervalMillis,30):y_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),_t.debug(`Calling attemptFetch again in ${l} millis`),QR(t,d,r,i)}})).apply(this,arguments)}function jK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $K(t){if(!(t instanceof rr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class HK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ow,fw;function aw(){return(aw=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function YR(t){fw=t}function JR(t){ow=t}function YK(){return pw.apply(this,arguments)}function pw(){return(pw=_(function*(){if(!Ts())return _t.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Zu()}catch(t){return _t.warn(on.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function gw(){return(gw=_(function*(t,e,n,r,i,s,o){var a;const u=BK(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>_t.error(f)),e.push(u);const c=YK().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);PK(s)||AK(s,l.measurementId),fw&&(i("consent","default",fw),YR(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[IK]=d),i("config",l.measurementId,h),ow&&(i("set",ow),JR(void 0)),l.measurementId})).apply(this,arguments)}class XK{constructor(e){this.app=e}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},XR=[];const ZR={};let tN,Er,_h="dataLayer",mw=!1;function eQ(t,e,n){!function ZK(){const t=[];if(h_()&&t.push("This is a browser extension environment."),f_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=on.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}();const r=t.options.appId;if(!r)throw on.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw on.create("no-api-key");_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[r])throw on.create("already-exists",{id:r});if(!mw){!function xK(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_h);const{wrappedGtag:s,gtagCore:o}=function NK(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function RK(t,e,n,r){function s(){return(s=_(function*(o,...a){try{if("event"===o){const[u,c]=a;yield MK(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield kK(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){_t.error(u)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ir,XR,ZR,_h,"gtag");Er=s,tN=o,mw=!0}return Ir[r]=function JK(t,e,n,r,i,s,o){return gw.apply(this,arguments)}(t,XR,ZR,e,tN,_h,n),new XK(t)}function nQ(){return yw.apply(this,arguments)}function yw(){return(yw=_(function*(){if(h_()||!f_()||!Ts())return!1;try{return yield Zu()}catch(t){return!1}})).apply(this,arguments)}const nN="@firebase/analytics";!function iQ(){sn(new Gt(yh,(e,{options:n})=>eQ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),sn(new Gt("analytics-internal",function t(e){try{const n=e.getProvider(yh).getImmediate();return{logEvent:(r,i,s)=>function rQ(t,e,n,r){t=Ni(t),function GK(t,e,n,r,i){return aw.apply(this,arguments)}(Er,Ir[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}(n,r,i,s)}}catch(n){throw on.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We(nN,"0.10.0"),We(nN,"0.10.0","esm2017")}();class sQ extends mn{constructor(e,n){super()}schedule(e,n=0){return this}}const vh={setInterval(t,e,...n){const{delegate:r}=vh;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=vh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class iN extends sQ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return vh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&vh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const sN={now:()=>(sN.delegate||Date).now(),delegate:void 0};class rc{constructor(e,n=rc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}rc.now=sN.now;class oN extends rc{constructor(e,n=rc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const uQ=new class aQ extends oN{}(class oQ extends iN{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),cQ=new oN(iN);function hn(t,e,n){const r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ct(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):as}const vw=new Uu("7.6.1"),ww="__angularfire_symbol__analyticsIsSupportedValue",Iw="__angularfire_symbol__analyticsIsSupported",Ew="__angularfire_symbol__remoteConfigIsSupportedValue",Tw="__angularfire_symbol__remoteConfigIsSupported",bw="__angularfire_symbol__messagingIsSupportedValue",Dw="__angularfire_symbol__messagingIsSupported";globalThis[Iw]||(globalThis[Iw]=nQ().then(t=>globalThis[ww]=t).catch(()=>globalThis[ww]=!1)),globalThis[Dw]||(globalThis[Dw]=qR().then(t=>globalThis[bw]=t).catch(()=>globalThis[bw]=!1)),globalThis[Tw]||(globalThis[Tw]=S8().then(t=>globalThis[Ew]=t).catch(()=>globalThis[Ew]=!1));const Aw=(t,e)=>{const n=e?[e]:KM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function ia(){}class aN{constructor(e,n=uQ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class lQ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)),n.pipe(hn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uN=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new aN(Zone.current)),this.insideAngular=n.run(()=>new aN(Zone.current,cQ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(P(tt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ms(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function dQ(t){return Ms().ngZone.runOutsideAngular(()=>t())}function Rs(t){return Ms().ngZone.run(()=>t())}function hQ(t){return Ms(),function fQ(t){return function(n){return(n=n.lift(new lQ(t.ngZone))).pipe(Ul(t.outsideAngular),Vl(t.insideAngular))}}(Ms())(t)}const pQ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Rs(()=>t.apply(void 0,r))},wh=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)))),r[s]=pQ(r[s],n));const i=dQ(()=>t.apply(this,r));if(!e){if(i instanceof Ne){const s=Ms();return i.pipe(Ul(s.outsideAngular),Vl(s.insideAngular))}return Rs(()=>i)}return i instanceof Ne?i.pipe(hQ):i instanceof Promise?Rs(()=>new Promise((s,o)=>i.then(a=>Rs(()=>s(a)),a=>Rs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};class sa{constructor(e){return e}}class cN{constructor(){return KM()}}const xw=new ee("angularfire2._apps"),mQ={provide:sa,useFactory:function gQ(t){return t&&1===t.length?t[0]:new sa(WM())},deps:[[new yt,xw]]},yQ={provide:cN,deps:[[new yt,xw]]};function _Q(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sa(r)}}let vQ=(()=>{class t{constructor(n){We("angularfire",vw.full,"core"),We("angularfire",vw.full,"app"),We("angular",O1.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(P(zu))},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({providers:[mQ,yQ]}),t})();function wQ(t,...e){return{ngModule:vQ,providers:[{provide:xw,useFactory:_Q(t),multi:!0,deps:[tt,$t,uN,...e]}]}}const IQ=wh(qM,!0);const EQ=function lN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dN=new wr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ih=new ea("@firebase/auth");function Eh(t,...e){Ih.logLevel<=ce.ERROR&&Ih.error(`Auth (${ec}): ${t}`,...e)}function fn(t,...e){throw kw(t,...e)}function Tr(t,...e){return kw(t,...e)}function hN(t,e,n){const r=Object.assign(Object.assign({},EQ()),{[e]:n});return new wr("auth","Firebase",r).create(e,{appName:t.name})}function kw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dN.create(t,...e)}function C(t,e,...n){if(!t)throw kw(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function Fi(t,e){t||br(e)}function fN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=function U5(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}()||function j5(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function bQ(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Mw(){return"http:"===fN()||"https:"===fN()}()||h_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class pN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},SQ=new sc(3e4,6e4);function Fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function je(t,e,n,r){return Nw.apply(this,arguments)}function Nw(){return(Nw=_(function*(t,e,n,r,i={}){return gN(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=VM(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),pN.fetch()(mN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function gN(t,e,n){return Pw.apply(this,arguments)}function Pw(){return(Pw=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CQ),e);try{const i=new AQ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw oc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw oc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw oc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw oc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hN(t,l,c);fn(t,l)}}catch(i){if(i instanceof rr)throw i;fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function mN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Rw(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class AQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),SQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tr(t,e,r);return i.customData._tokenResponse=n,i}function Fw(){return(Fw=_(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function MQ(t,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=_(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Uw(){return(Uw=_(function*(t,e=!1){const n=Ni(t),r=yield n.getIdToken(e),i=Th(r);C(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ac(Bw(i.auth_time)),issuedAtTime:ac(Bw(i.iat)),expirationTime:ac(Bw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Bw(t){return 1e3*Number(t)}function Th(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=ah(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function ni(t,e){return jw.apply(this,arguments)}function jw(){return(jw=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof rr&&PQ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function PQ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class OQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===(null==n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class yN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function uc(t){return $w.apply(this,arguments)}function $w(){return($w=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ni(t,MQ(n,{idToken:r}));C(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?VQ(s.providerUserInfo):[],a=LQ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Hw(){return(Hw=_(function*(t){const e=Ni(t);yield uc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function LQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VQ(t){return t.map(e=>{var{providerId:n}=e,r=zp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Gw(){return(Gw=_(function*(t,e){const n=yield gN(t,{},_(function*(){const r=VM({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(void 0!==e.idToken,"internal-error"),C(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function NQ(t){const e=Th(t);return C(e,"internal-error"),C(void 0!==e.exp,"internal-error"),C(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return C(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function UQ(t,e){return Gw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new cc;return r&&(C("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(C("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(C("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return br("not implemented")}}function Li(t,e){C("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield ni(n,n.stsTokenManager.getToken(n.auth,e));return C(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function RQ(t){return Uw.apply(this,arguments)}(this,e)}reload(){return function FQ(t){return Hw.apply(this,arguments)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield uc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield ni(e,function xQ(t,e){return Fw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:N,isAnonymous:V,providerData:W,stsTokenManager:ke}=n;C(E&&ke,e,"internal-error");const Mn=cc.fromJSON(this.name,ke);C("string"==typeof E,e,"internal-error"),Li(d,e.name),Li(h,e.name),C("boolean"==typeof N,e,"internal-error"),C("boolean"==typeof V,e,"internal-error"),Li(f,e.name),Li(p,e.name),Li(g,e.name),Li(m,e.name),Li(v,e.name),Li(y,e.name);const Or=new Ns({uid:E,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Mn,createdAt:v,lastLoginAt:y});return W&&Array.isArray(W)&&(Or.providerData=W.map(Pl=>Object.assign({},Pl))),m&&(Or._redirectEventId=m),Or}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new cc;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield uc(s),s})()}}const _N=new Map;function ri(t){Fi(t instanceof Function,"Expected a class definition");let e=_N.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_N.set(t,e),e)}const vN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function bh(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=bh(this.userKey,i.apiKey,s),this.fullPersistenceKey=bh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ns._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new aa(ri(vN),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ri(vN);const o=bh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Ns._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new aa(s,e,r)):new aa(s,e,r)})()}}function wN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function TN(t=Cn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function IN(t=Cn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function DN(t=Cn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function CN(t=Cn()){return/webos/i.test(t)}(e))return"Webos";if(function zw(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function EN(t=Cn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function bN(t=Cn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function SN(t,e=[]){let n;switch(t){case"Browser":n=wN(Cn());break;case"Worker":n=`${wN(Cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}function AN(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=_(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",Fe(t,e))})).apply(this,arguments)}function kN(t){return void 0!==t&&void 0!==t.enterprise}class MN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class NN{constructor(e){this.type="recaptcha-enterprise",this.auth=vt(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){AN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new MN(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;kN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&kN(window.grecaptcha))o(c,a,u);else{if("undefined"==typeof window)return void u(new Error("RecaptchaVerifier is only supported in browser"));(function Kw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function HQ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class WQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class KQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PN(this),this.idTokenSubscription=new PN(this),this.beforeStateQueue=new WQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield aa.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return C(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield uc(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function DQ(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?Ni(e):null;return r&&C(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&C(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(ri(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield AN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new MN(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new NN(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&ri(e)||n._popupRedirectResolver;C(r,n,"argument-error"),n.redirectPersistenceManager=yield aa.create(n,[ri(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return C(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return(null==r?void 0:r.error)&&function TQ(t,...e){Ih.logLevel<=ce.WARN&&Ih.warn(`Auth (${ec}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}function vt(t){return Ni(t)}class PN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function z5(t,e){const n=new q5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function RN(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new sc(3e4,6e4),new sc(2e3,1e4),new sc(3e4,6e4),new sc(5e3,15e3),encodeURIComponent("fac");var cP="@firebase/auth";class BJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}uh(),function $J(t){sn(new Gt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SN(t)},c=new KQ(r,i,s,u);return function YQ(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new Gt("auth-internal",e=>{const n=vt(e.getProvider("auth").getImmediate());return new BJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(cP,"0.23.2",function jJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),We(cP,"0.23.2","esm2017")}("Browser");class fP{constructor(){return Aw("auth")}}const FE=new Map,pP={activated:!1,tokenObservers:[]},QJ={initialized:!1,enabled:!1};function $e(t){return FE.get(t)||Object.assign({},pP)}function Lh(){return QJ}class tX{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new ch,yield function nX(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new ch,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Mt=new wr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function VE(t){if(!$e(t).activated)throw Mt.create("use-before-activation",{appName:t.name})}function Bh(t,e){return BE.apply(this,arguments)}function BE(){return BE=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Mt.create("fetch-network-error",{originalErrorMessage:null==d?void 0:d.message})}if(200!==o.status)throw Mt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Mt.create("fetch-parse-error",{originalErrorMessage:null==d?void 0:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),BE.apply(this,arguments)}function mP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const pc="firebase-app-check-store";let jh=null;function _P(){return jh||(jh=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pc,{keyPath:"compositeKey"})}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}}),jh)}function jE(){return jE=_(function*(t,e){const r=(yield _P()).transaction(pc,"readwrite"),s=r.objectStore(pc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Mt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),jE.apply(this,arguments)}const gc=new ea("@firebase/app-check");function GE(t,e){return Ts()?function cX(t,e){return function vP(t,e){return jE.apply(this,arguments)}(function IP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{gc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qE(){return Lh().enabled}function WE(){return KE.apply(this,arguments)}function KE(){return KE=_(function*(){const t=Lh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),KE.apply(this,arguments)}const gX={error:"UNKNOWN_ERROR"};function mX(t){return d_.encodeString(JSON.stringify(t),!1)}function $h(t){return QE.apply(this,arguments)}function QE(){return QE=_(function*(t,e=!1){const n=t.app;VE(n);const r=$e(n);let s,i=r.token;if(i&&!ca(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ca(u)?i=u:yield GE(n,void 0))}if(!e&&i&&ca(i))return{token:i.token};let a,o=!1;if(qE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Bh(mP(n,yield WE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield GE(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield $e(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?gc.warn(u.message):gc.error(u),s=u}return i?s?a=ca(i)?{token:i.token,internalError:s}:DP(s):(a={token:i.token},r.token=i,yield GE(n,i)):a=DP(s),o&&bP(n,a),a}),QE.apply(this,arguments)}function YE(){return YE=_(function*(t){const e=t.app;VE(e);const{provider:n}=$e(e);if(qE()){const r=yield WE(),{token:i}=yield Bh(mP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),YE.apply(this,arguments)}function XE(t,e){const n=$e(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function TP(t){const{app:e}=t,n=$e(e);let r=n.tokenRefresher;r||(r=function yX(t){const{app:e}=t;return new tX(_(function*(){let r;if(r=$e(e).token?yield $h(t,!0):yield $h(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$e(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function bP(t,e){const n=$e(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ca(t){return t.expireTimeMillis-Date.now()>0}function DP(t){return{token:mX(gX),error:t}}class _X{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$e(this.app);for(const n of e)XE(this.app,n.next);return Promise.resolve()}}const NP="app-check-internal";!function RX(){sn(new Gt("app-check",t=>function vX(t,e){return new _X(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(NP).initialize()})),sn(new Gt(NP,t=>function wX(t){return{getToken:e=>$h(t,e),getLimitedUseToken:()=>function EP(t){return YE.apply(this,arguments)}(t),addTokenListener:e=>function JE(t,e,n,r){const{app:i}=t,s=$e(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ca(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),TP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>TP(t))}(t,"INTERNAL",e),removeTokenListener:e=>XE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();class OP{constructor(){return Aw("app-check")}}"undefined"!=typeof window&&window;var x,LX="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ir={},rT=rT||{},H=LX||self;function Gh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function mc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var iT="closure_uid_"+(1e9*Math.random()>>>0),UX=0;function BX(t,e,n){return t.call.apply(t.bind,arguments)}function jX(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return(zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BX:jX).apply(null,arguments)}function zh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ui(){this.s=this.s,this.o=this.o}Ui.prototype.s=!1,Ui.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function VX(t){Object.prototype.hasOwnProperty.call(t,iT)&&t[iT]||(t[iT]=++UX)}(this)},Ui.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sT(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function LP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var HX=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",()=>{},e),H.removeEventListener("test",()=>{},e)}catch(n){}return t}();function yc(t){return/^[\s\xa0]*$/.test(t)}function qh(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function Dr(t){return-1!=qh().indexOf(t)}function oT(t){return oT[" "](t),t}oT[" "]=function(){};var uT,zX=Dr("Opera"),la=Dr("Trident")||Dr("MSIE"),VP=Dr("Edge"),aT=VP||la,UP=Dr("Gecko")&&!(-1!=qh().toLowerCase().indexOf("webkit")&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),qX=-1!=qh().toLowerCase().indexOf("webkit")&&!Dr("Edge");function BP(){var t=H.document;return t?t.documentMode:void 0}e:{var cT="",lT=function(){var t=qh();return UP?/rv:([^\);]+)(\)|;)/.exec(t):VP?/Edge\/([\d\.]+)/.exec(t):la?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):qX?/WebKit\/(\S+)/.exec(t):zX?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(lT&&(cT=lT?lT[1]:""),la){var dT=BP();if(null!=dT&&dT>parseFloat(cT)){uT=String(dT);break e}}uT=cT}var WX=H.document&&la&&(BP()||parseInt(uT,10))||void 0;function _c(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(UP){e:{try{oT(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:KX[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_c.$.h.call(this)}}wt(_c,qt);var KX={2:"touch",3:"pen",4:"mouse"};_c.prototype.h=function(){_c.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),QX=0;function YX(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++QX,this.fa=this.ia=!1}function Wh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $P(t){const e={};for(const n in t)e[n]=t[n];return e}const HP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<HP.length;s++)n=HP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kh(t){this.src=t,this.g={},this.h=0}function pT(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=FP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function gT(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Kh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=gT(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new YX(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var mT="closure_lm_"+(1e6*Math.random()|0),yT={};function zP(t,e,n,r,i){if(r&&r.once)return WP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zP(t,e[s],n,r,i);return null}return n=IT(n),t&&t[vc]?t.O(e,n,mc(r)?!!r.capture:!!r,i):qP(t,e,n,!1,r,i)}function qP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mc(i)?!!i.capture:!!i,a=vT(t);if(a||(t[mT]=a=new Kh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function XX(){const e=ZX;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)HX||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function WP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)WP(t,e[s],n,r,i);return null}return n=IT(n),t&&t[vc]?t.P(e,n,mc(r)?!!r.capture:!!r,i):qP(t,e,n,!0,r,i)}function KP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KP(t,e[s],n,r,i);else r=mc(r)?!!r.capture:!!r,n=IT(n),t&&t[vc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=gT(s=t.g[e],n,r,i))&&(Wh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=vT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gT(e,n,r,i)),(n=-1<t?e[t]:null)&&_T(n))}function _T(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[vc])pT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vT(e))?(pT(n,t),0==n.h&&(n.src=null,e[mT]=null)):Wh(t)}}}function QP(t){return t in yT?yT[t]:yT[t]="on"+t}function ZX(t,e){if(t.fa)t=!0;else{e=new _c(e,this);var n=t.listener,r=t.la||t.src;t.ia&&_T(t),t=n.call(r,e)}return t}function vT(t){return(t=t[mT])instanceof Kh?t:null}var wT="__closure_events_fn_"+(1e9*Math.random()>>>0);function IT(t){return"function"==typeof t?t:(t[wT]||(t[wT]=function(e){return t.handleEvent(e)}),t[wT])}function It(){Ui.call(this),this.i=new Kh(this),this.S=this,this.J=null}function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;GP(e=new qt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qh(o,r,!0,e)&&i}if(i=Qh(o=e.g=t,r,!0,e)&&i,i=Qh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Qh(o=e.g=n[s],r,!1,e)&&i}function Qh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&pT(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wt(It,Ui),It.prototype[vc]=!0,It.prototype.removeEventListener=function(t,e,n,r){KP(this,t,e,n,r)},It.prototype.N=function(){if(It.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Wh(n[r]);delete t.g[e],t.h--}}this.J=null},It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},It.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ET=H.JSON.stringify;function tZ(){var t=TT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var YP=new class eZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rZ,t=>t.reset());class rZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function sZ(t){H.setTimeout(()=>{throw t},0)}let wc,Ic=!1,TT=new class nZ{constructor(){this.h=this.g=null}add(e,n){const r=YP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},JP=()=>{const t=H.Promise.resolve(void 0);wc=()=>{t.then(oZ)}};var oZ=()=>{for(var t;t=tZ();){try{t.h.call(t.g)}catch(n){sZ(n)}var e=YP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ic=!1};function Yh(t,e){It.call(this),this.h=t||1,this.g=e||H,this.j=zt(this.qb,this),this.l=Date.now()}function bT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function DT(t,e,n){if("function"==typeof t)n&&(t=zt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zt(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function XP(t){t.g=DT(()=>{t.g=null,t.i&&(t.i=!1,XP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wt(Yh,It),(x=Yh.prototype).ga=!1,x.T=null,x.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(bT(this),this.start()))}},x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},x.N=function(){Yh.$.N.call(this),bT(this),delete this.g};class aZ extends Ui{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:XP(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ec(t){Ui.call(this),this.h=t,this.g={}}wt(Ec,Ui);var ZP=[];function eO(t,e,n,r){Array.isArray(n)||(n&&(ZP[0]=n.toString()),n=ZP);for(var i=0;i<n.length;i++){var s=zP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function tO(t){fT(t.g,function(e,n){this.g.hasOwnProperty(n)&&_T(e)},t),t.g={}}function Jh(){this.g=!0}function da(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dZ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ET(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ec.prototype.N=function(){Ec.$.N.call(this),tO(this)},Ec.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jh.prototype.Ea=function(){this.g=!1},Jh.prototype.info=function(){};var Ls={},nO=null;function Xh(){return nO=nO||new It}function rO(t){qt.call(this,Ls.Ta,t)}function Tc(t){const e=Xh();Rt(e,new rO(e))}function iO(t,e){qt.call(this,Ls.STAT_EVENT,t),this.stat=e}function an(t){const e=Xh();Rt(e,new iO(e,t))}function sO(t,e){qt.call(this,Ls.Ua,t),this.size=e}function bc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}Ls.Ta="serverreachability",wt(rO,qt),Ls.STAT_EVENT="statevent",wt(iO,qt),Ls.Ua="timingevent",wt(sO,qt);var Zh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},oO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CT(){}function uO(){}CT.prototype.h=null;var xT,Dc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ST(){qt.call(this,"d")}function AT(){qt.call(this,"c")}function ef(){}function Cc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ec(this),this.P=hZ,this.V=new Yh(t=aT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cO}function cO(){this.i=null,this.g="",this.h=!1}wt(ST,qt),wt(AT,qt),wt(ef,CT),ef.prototype.g=function(){return new XMLHttpRequest},ef.prototype.i=function(){return{}},xT=new ef;var hZ=45e3,kT={},tf={};function MT(t,e,n){t.L=1,t.v=of(si(e)),t.s=n,t.S=!0,lO(t,null)}function lO(t,e){t.G=Date.now(),Sc(t),t.A=si(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),wO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cO,t.g=GO(t.l,n?e:null,!t.s),0<t.O&&(t.M=new aZ(zt(t.Pa,t,t.g),t.O)),eO(t.U,t.g,"readystatechange",t.nb),e=t.I?$P(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Tc(),function uZ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function dO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function hO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=fZ(t,n),i==tf){4==e&&(t.o=4,an(14),r=!1),da(t.j,t.m,null,"[Incomplete Response]");break}if(i==kT){t.o=4,an(15),da(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}da(t.j,t.m,i,null),RT(t,i)}dO(t)&&i!=tf&&i!=kT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),UT(e),e.M=!0,an(11))):(da(t.j,t.m,n,"[Invalid Chunked Response]"),Vs(t),Ac(t))}function fZ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tf:(n=Number(e.substring(n,r)),isNaN(n)?kT:(r+=1)+n>e.length?tf:(e=e.slice(r,r+n),t.C=r+n,e))}function Sc(t){t.Y=Date.now()+t.P,fO(t,t.P)}function fO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=bc(zt(t.lb,t),e)}function nf(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function Ac(t){0==t.l.H||t.J||BO(t.l,t)}function Vs(t){nf(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,bT(t.V),tO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function RT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||NT(n.i,t)))if(!t.K&&NT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=bc(zt(n.ib,n),6e3));else{if(n.g){if(!(n.g.G+3e3<t.G))break e;hf(n),lf(n)}VT(n),an(18)}if(1>=TO(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Bs(n,11)}else if((t.K||n.g==t)&&hf(n),!yc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(PT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ce(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=HO(r,r.J?r.pa:null,r.Y),o.K){bO(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(nf(a),Sc(a)),r.g=o}else VO(r);0<n.j.length&&df(n)}else"stop"!=c[0]&&"close"!=c[0]||Bs(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Bs(n,7):LT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Tc()}catch(c){}}function pO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Gh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function gZ(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(Gh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function pZ(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Gh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(x=Cc.prototype).setTimeout=function(t){this.P=t},x.nb=function(t){t=t.target;const e=this.M;e&&3==Cr(t)?e.l():this.Pa(t)},x.Pa=function(t){try{if(t==this.g)e:{const l=Cr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||aT||this.g&&(this.h.h||this.g.ja()||RO(this.g)))){this.J||4!=l||7==e||Tc(),nf(this);var n=this.g.da();this.ca=n;t:if(dO(this)){var r=RO(this.g);t="";var i=r.length,s=4==Cr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vs(this),Ac(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function cZ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,an(12),Vs(this),Ac(this);break e}da(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RT(this,n)}this.S?(hO(this,l,o),aT&&this.i&&3==l&&(eO(this.U,this.V,"tick",this.mb),this.V.start())):(da(this.j,this.m,o,null),RT(this,o)),4==l&&Vs(this),this.i&&!this.J&&(4==l?BO(this.l,this):(this.i=!1,Sc(this)))}else(function NZ(t){const e={};t=(t.g&&2<=Cr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(yc(t[r]))continue;var n=iZ(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function JX(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),Vs(this),Ac(this)}}}catch(l){}},x.mb=function(){if(this.g){var t=Cr(this.g),e=this.g.ja();this.C<e.length&&(nf(this),hO(this,t,e),this.i&&4!=t&&Sc(this))}},x.cancel=function(){this.J=!0,Vs(this)},x.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function lZ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tc(),an(17)),Vs(this),this.o=2,Ac(this)):fO(this,this.Y-t)};var gO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Us){this.h=t.h,rf(this,t.j),this.s=t.s,this.g=t.g,sf(this,t.m),this.l=t.l;var e=t.i,n=new Mc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mO(this,n),this.o=t.o}else t&&(e=String(t).match(gO))?(this.h=!1,rf(this,e[1]||"",!0),this.s=xc(e[2]||""),this.g=xc(e[3]||"",!0),sf(this,e[4]),this.l=xc(e[5]||"",!0),mO(this,e[6]||"",!0),this.o=xc(e[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}function si(t){return new Us(t)}function rf(t,e,n){t.j=n?xc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mO(t,e,n){e instanceof Mc?(t.i=e,function EZ(t,e){e&&!t.j&&(Bi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(_O(this,r),wO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=kc(e,wZ)),t.i=new Mc(e,t.h))}function Ce(t,e,n){t.i.set(e,n)}function of(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function kc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,yZ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function yZ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(kc(e,yO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(kc(e,yO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(kc(n,"/"==n.charAt(0)?vZ:_Z,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",kc(n,IZ)),t.join("")};var yO=/[#\/\?@]/g,_Z=/[#\?:]/g,vZ=/[#\?]/g,wZ=/[#\?@]/g,IZ=/#/g;function Mc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bi(t){t.g||(t.g=new Map,t.h=0,t.i&&function mZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function _O(t,e){Bi(t),e=ha(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vO(t,e){return Bi(t),e=ha(t,e),t.g.has(e)}function wO(t,e,n){_O(t,e),0<n.length&&(t.i=null,t.g.set(ha(t,e),sT(n)),t.h+=n.length)}function ha(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function IO(t){this.l=t||bZ,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(x=Mc.prototype).add=function(t,e){Bi(this),this.i=null,t=ha(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},x.forEach=function(t,e){Bi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},x.ta=function(){Bi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},x.Z=function(t){Bi(this);let e=[];if("string"==typeof t)vO(this,t)&&(e=e.concat(this.g.get(ha(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},x.set=function(t,e){return Bi(this),this.i=null,vO(this,t=ha(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},x.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var bZ=10;function EO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function TO(t){return t.h?1:t.g?t.g.size:0}function NT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function PT(t,e){t.g?t.g.add(e):t.h=e}function bO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function DO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return sT(t.i)}function CZ(){this.g=new class{stringify(t){return H.JSON.stringify(t,void 0)}parse(t){return H.JSON.parse(t,void 0)}}}function SZ(t,e,n){const r=n||"";try{pO(t,function(i,s){let o=i;mc(i)&&(o=ET(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function af(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Rc(t){this.l=t.fc||null,this.j=t.ob||!1}function uf(t,e){It.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=OT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}IO.prototype.cancel=function(){if(this.i=DO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},wt(Rc,CT),Rc.prototype.g=function(){return new uf(this.l,this.j)},Rc.prototype.i=function(t){return function(){return t}}({}),wt(uf,It);var OT=0;function CO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Nc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pc(t)}function Pc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=uf.prototype).open=function(t,e){if(this.readyState!=OT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pc(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||H).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nc(this)),this.readyState=OT},x.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pc(this)),this.g&&(this.readyState=3,Pc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},x.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nc(this):Pc(this),3==this.readyState&&CO(this)}},x.Za=function(t){this.g&&(this.response=this.responseText=t,Nc(this))},x.Ya=function(t){this.g&&(this.response=t,Nc(this))},x.ka=function(){this.g&&Nc(this)},x.setRequestHeader=function(t,e){this.v.append(t,e)},x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(uf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var xZ=H.JSON.parse;function He(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SO,this.L=this.M=!1}wt(He,It);var SO="",kZ=/^https?$/i,MZ=["POST","PUT"];function AO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xO(t),cf(t)}function xO(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}function kO(t){if(t.h&&void 0!==rT&&(!t.C[1]||4!=Cr(t)||2!=t.da()))if(t.v&&4==Cr(t))DT(t.La,0,t);else if(Rt(t,"readystatechange"),4==Cr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(gO)[1]||null;!i&&H.self&&H.self.location&&(i=H.self.location.protocol.slice(0,-1)),r=!kZ.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var s=2<Cr(t)?t.g.statusText:""}catch(a){s=""}t.j=s+" ["+t.da()+"]",xO(t)}}finally{cf(t)}}}function cf(t,e){if(t.g){MO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function MO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function Cr(t){return t.g?t.g.readyState:0}function RO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case SO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function NO(t){let e="";return fT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function FT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=NO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ce(t,e,n))}function Oc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function PO(t){this.Ga=0,this.j=[],this.l=new Jh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Oc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Oc("baseRetryDelayMs",5e3,t),this.hb=Oc("retryDelaySeedMs",1e4,t),this.eb=Oc("forwardChannelMaxRetries",2,t),this.xa=Oc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new IO(t&&t.concurrentRequestLimit),this.Ja=new CZ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function LT(t){if(OO(t),3==t.H){var e=t.W++,n=si(t.I);if(Ce(n,"SID",t.K),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),Fc(t,n),(e=new Cc(t,t.l,e)).L=2,e.v=of(si(n)),n=!1,H.navigator&&H.navigator.sendBeacon)try{n=H.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=GO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Sc(e)}$O(t)}function lf(t){t.g&&(UT(t),t.g.cancel(),t.g=null)}function OO(t){lf(t),t.u&&(H.clearTimeout(t.u),t.u=null),hf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function df(t){if(!EO(t.i)&&!t.m){t.m=!0;var e=t.Na;wc||JP(),Ic||(wc(),Ic=!0),TT.add(e,t),t.C=0}}function FO(t,e){var n;n=e?e.m:t.W++;const r=si(t.I);Ce(r,"SID",t.K),Ce(r,"RID",n),Ce(r,"AID",t.V),Fc(t,r),t.o&&t.s&&FT(r,t.o,t.s),n=new Cc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),PT(t.i,n),MT(n,r,e)}function Fc(t,e){t.na&&fT(t.na,function(n,r){Ce(e,r,n)}),t.h&&pO({},function(n,r){Ce(e,r,n)})}function LO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{SZ(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function VO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wc||JP(),Ic||(wc(),Ic=!0),TT.add(e,t),t.A=0}}function VT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=bc(zt(t.Ma,t),jO(t,t.A)),t.A++,0))}function UT(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function UO(t){t.g=new Cc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=si(t.wa);Ce(e,"RID","rpc"),Ce(e,"SID",t.K),Ce(e,"AID",t.V),Ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ce(e,"TO",t.qa),Ce(e,"TYPE","xmlhttp"),Fc(t,e),t.o&&t.s&&FT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=of(si(e)),n.s=null,n.S=!0,lO(n,t)}function hf(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function BO(t,e){var n=null;if(t.g==e){hf(t),UT(t),t.g=null;var r=2}else{if(!NT(t.i,e))return;n=e.F,bO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Rt(r=Xh(),new sO(r,n)),df(t)}else VO(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function PZ(t,e){return!(TO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=bc(zt(t.Na,t,e),jO(t,t.C)),t.C++,0)))}(t,e)||2==r&&VT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bs(t,5);break;case 4:Bs(t,10);break;case 3:Bs(t,6);break;default:Bs(t,2)}}function jO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=zt(t.pb,t);n||(n=new Us("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||rf(n,"https"),of(n)),function AZ(t,e){const n=new Jh;if(H.Image){const r=new Image;r.onload=zh(af,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zh(af,n,r,"TestLoadImage: error",!1,e),r.onabort=zh(af,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zh(af,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),$O(t),OO(t)}function $O(t){if(t.H=0,t.ma=[],t.h){const e=DO(t.i);(0!=e.length||0!=t.j.length)&&(LP(t.ma,e),LP(t.ma,t.j),t.i.i.length=0,sT(t.j),t.j.length=0),t.h.ya()}}function HO(t,e,n){var r=n instanceof Us?si(n):new Us(n);if(""!=r.g)e&&(r.g=e+"."+r.g),sf(r,r.m);else{var i=H.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Us(null);r&&rf(s,r),e&&(s.g=e),i&&sf(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ce(r,n,e),Ce(r,"VER",t.ra),Fc(t,r),r}function GO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new He(n&&t.Ha&&!t.va?new Rc({ob:!0}):t.va)).Oa(t.J),e}function zO(){}function ff(){if(la&&!(10<=Number(WX)))throw Error("Environmental error: no available transport.")}function Sn(t,e){It.call(this),this.g=new PO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yc(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new fa(this)}function qO(t){ST.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function WO(){AT.call(this),this.status=1}function fa(t){this.g=t}function sr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function BT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function _e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(x=He.prototype).Oa=function(t){this.M=t},x.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xT.g(),this.C=function aO(t){return t.h||(t.h=t.i())}(this.u?this.u:xT),this.g.onreadystatechange=zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void AO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=H.FormData&&t instanceof H.FormData,!(0<=FP(MZ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MO(this),0<this.B&&((this.L=function RZ(t){return la&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.ua,this)):this.A=DT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){AO(this,s)}},x.ua=function(){void 0!==rT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),cf(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cf(this,!0)),He.$.N.call(this)},x.La=function(){this.s||(this.G||this.v||this.l?kO(this):this.kb())},x.kb=function(){kO(this)},x.isActive=function(){return!!this.g},x.da=function(){try{return 2<Cr(this)?this.g.status:-1}catch(t){return-1}},x.ja=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},x.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xZ(e)}},x.Ia=function(){return this.m},x.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(x=PO.prototype).ra=8,x.H=1,x.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Cc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=$P(s),GP(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LO(this,i,e),Ce(n=si(this.I),"RID",t),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),Fc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(NO(s)))+"&"+e:this.o&&FT(n,this.o,s)),PT(this.i,i),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",e),Ce(n,"SID","null"),i.aa=!0,MT(i,n,null)):MT(i,n,e),this.H=2}}else 3==this.H&&(t?FO(this,t):0==this.j.length||EO(this.i)||FO(this))},x.Ma=function(){if(this.u=null,UO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bc(zt(this.jb,this),t)}},x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),lf(this),UO(this))},x.ib=function(){null!=this.v&&(this.v=null,lf(this),VT(this),an(19))},x.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))},x.isActive=function(){return!!this.h&&this.h.isActive(this)},(x=zO.prototype).Ba=function(){},x.Aa=function(){},x.za=function(){},x.ya=function(){},x.isActive=function(){return!0},x.Va=function(){},ff.prototype.g=function(t,e){return new Sn(t,e)},wt(Sn,It),Sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HO(t,null,t.Y),df(t)},Sn.prototype.close=function(){LT(this.g)},Sn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ET(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&df(e)},Sn.prototype.N=function(){this.g.h=null,delete this.j,LT(this.g),delete this.g,Sn.$.N.call(this)},wt(qO,ST),wt(WO,AT),wt(fa,zO),fa.prototype.Ba=function(){Rt(this.g,"a")},fa.prototype.Aa=function(t){Rt(this.g,new qO(t))},fa.prototype.za=function(t){Rt(this.g,new WO)},fa.prototype.ya=function(){Rt(this.g,"b")},wt(sr,function OZ(){this.blockSize=-1}),sr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)BT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){BT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){BT(this,r),i=0;break}}this.h=i,this.i+=e},sr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var FZ={};function jT(t){return-128<=t&&128>t?function GX(t,e){var n=FZ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new _e([0|e],0>e?-1:0)}):new _e([0|t],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return pa;if(0>t)return Nt(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$T;return new _e(e,0)}var $T=4294967296,pa=jT(0),HT=jT(1),QO=jT(16777216);function oi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function jn(t){return-1==t.h}function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new _e(n,~t.h).add(HT)}function pf(t,e){return t.add(Nt(e))}function gf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Lc(t,e){this.g=t,this.h=e}function mf(t,e){if(oi(e))throw Error("division by zero");if(oi(t))return new Lc(pa,pa);if(jn(t))return e=mf(Nt(t),e),new Lc(Nt(e.g),Nt(e.h));if(jn(e))return e=mf(t,Nt(e)),new Lc(Nt(e.g),e.h);if(30<t.g.length){if(jn(t)||jn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=HT,r=e;0>=r.X(t);)n=YO(n),r=YO(r);var i=ga(n,1),s=ga(r,1);for(r=ga(r,2),n=ga(n,2);!oi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ga(r,1),n=ga(n,1)}return e=pf(t,i.R(e)),new Lc(i,e)}for(i=pa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Sr(n)).R(e);jn(o)||0<o.X(t);)o=(s=Sr(n-=r)).R(e);oi(s)&&(s=HT),i=i.add(s),t=pf(t,o)}return new Lc(i,t)}function YO(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new _e(n,t.h)}function ga(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new _e(i,t.h)}(x=_e.prototype).ea=function(){if(jn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$T+r)*e,e*=$T}return t},x.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(oi(this))return"0";if(jn(this))return"-"+Nt(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var i=mf(n,e).g,s=((0<(n=pf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(oi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},x.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},x.X=function(t){return jn(t=pf(this,t))?-1:oi(t)?0:1},x.abs=function(){return jn(this)?Nt(this):this},x.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new _e(n,-2147483648&n[n.length-1]?-1:0)},x.R=function(t){if(oi(this)||oi(t))return pa;if(jn(this))return jn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(jn(t))return Nt(this.R(Nt(t)));if(0>this.X(QO)&&0>t.X(QO))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,gf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,gf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,gf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,gf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new _e(n,0)},x.gb=function(t){return mf(this,t).h},x.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new _e(n,this.h&t.h)},x.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new _e(n,this.h|t.h)},x.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new _e(n,this.h^t.h)},ff.prototype.createWebChannel=ff.prototype.g,Sn.prototype.send=Sn.prototype.u,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Zh.NO_ERROR=0,Zh.TIMEOUT=8,Zh.HTTP_ERROR=6,oO.COMPLETE="complete",uO.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",It.prototype.listen=It.prototype.O,He.prototype.listenOnce=He.prototype.P,He.prototype.getLastError=He.prototype.Sa,He.prototype.getLastErrorCode=He.prototype.Ia,He.prototype.getStatus=He.prototype.da,He.prototype.getResponseJson=He.prototype.Wa,He.prototype.getResponseText=He.prototype.ja,He.prototype.send=He.prototype.ha,He.prototype.setWithCredentials=He.prototype.Oa,sr.prototype.digest=sr.prototype.l,sr.prototype.reset=sr.prototype.reset,sr.prototype.update=sr.prototype.j,_e.prototype.add=_e.prototype.add,_e.prototype.multiply=_e.prototype.R,_e.prototype.modulo=_e.prototype.gb,_e.prototype.compare=_e.prototype.X,_e.prototype.toNumber=_e.prototype.ea,_e.prototype.toString=_e.prototype.toString,_e.prototype.getBits=_e.prototype.D,_e.fromNumber=Sr,_e.fromString=function KO(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Nt(KO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=pa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Sr(Math.pow(e,s)),r=r.R(s).add(Sr(o))):r=(r=r.R(n)).add(Sr(o))}return r};var LZ=ir.createWebChannelTransport=function(){return new ff},VZ=ir.getStatEventTarget=function(){return Xh()},GT=ir.ErrorCode=Zh,UZ=ir.EventType=oO,BZ=ir.Event=Ls,JO=ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jZ=ir.FetchXmlHttpFactory=Rc,yf=ir.WebChannel=uO,$Z=ir.XhrIo=He,HZ=ir.Md5=sr,ma=ir.Integer=_e;const XO="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let ya="9.23.0";const ji=new ea("@firebase/firestore");function zT(){return ji.logLevel}function D(t,...e){if(ji.logLevel<=ce.DEBUG){const n=e.map(qT);ji.debug(`Firestore (${ya}): ${t}`,...n)}}function Ke(t,...e){if(ji.logLevel<=ce.ERROR){const n=e.map(qT);ji.error(`Firestore (${ya}): ${t}`,...n)}}function or(t,...e){if(ji.logLevel<=ce.WARN){const n=e.map(qT);ji.warn(`Firestore (${ya}): ${t}`,...n)}}function qT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: `+t;throw Ke(e),new Error(e)}function O(t,e){t||R()}function A(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ht{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ZO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class zZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qZ{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ht;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ht,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ht)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new ZO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new Et(e)}}class WZ{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class KZ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new WZ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QZ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new eF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YZ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function j(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?j(this.nanoseconds,e.nanoseconds):j(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new Le(0,0))}static max(){return new F(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vc{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Vc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Vc{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const JZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Vc{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return JZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(he.fromString(e))}static fromName(e){return new S(he.fromString(e).popFirst(5))}static empty(){return new S(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new he(e.slice()))}}function iF(t){return new An(t.readTime,t.key,-1)}class An{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new An(F.min(),S.empty(),-1)}static max(){return new An(F.max(),S.empty(),-1)}}function KT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:j(t.largestBatchId,e.largestBatchId))}const sF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function $i(t){return QT.apply(this,arguments)}function QT(){return QT=_(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==sF)throw t;D("LocalStore","Unexpectedly lost primary lease")}),QT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Hi(t){return"IndexedDbTransactionError"===t.name}let xn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function jc(t){return null==t}function $c(t){return 0===t&&1/t==-1/0}function pF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class De{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Pt.RED,this.left=null!=i?i:Pt.EMPTY,this.right=null!=s?s:Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Se{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mF(this.data.getIterator())}getIteratorFrom(e){return new mF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Se(this.comparator);return n.data=e,n}}class mF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Se(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class yF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new yF("Invalid base64 string: "+i):i}}(e);return new ft(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return j(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Tee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(O(!!t),"string"==typeof t){let e=0;const n=Tee.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ai(t){return"string"==typeof t?ft.fromBase64String(t):ft.fromUint8Array(t)}function Tf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bf(t){const e=t.mapValue.fields.__previous_value__;return Tf(e)?bf(e):e}function Hc(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}class bee{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Hs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hs&&e.projectId===this.projectId&&e.database===this.database}}const qi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tf(t)?4:IF(t)?9007199254740991:10:R()}function xr(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zi(r.timestampValue),o=zi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ai(t.bytesValue).isEqual(ai(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ge(r.doubleValue),o=Ge(i.doubleValue);return s===o?$c(s)===$c(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(pF(s)!==pF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!xr(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function Gc(t,e){return void 0!==(t.values||[]).find(n=>xr(n,e))}function Ki(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return j(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return j(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ge(i.integerValue||i.doubleValue),a=Ge(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return _F(t.timestampValue,e.timestampValue);case 4:return _F(Hc(t),Hc(e));case 5:return j(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ai(i),a=ai(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=j(o[u],a[u]);if(0!==c)return c}return j(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=j(Ge(i.latitude),Ge(s.latitude));return 0!==o?o:j(Ge(i.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ki(o[u],a[u]);if(c)return c}return j(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qi_mapValue&&s===qi_mapValue)return 0;if(i===qi_mapValue)return 1;if(s===qi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=j(a[l],c[l]);if(0!==d)return d;const h=Ki(o[a[l]],u[c[l]]);if(0!==h)return h}return j(a.length,c.length)}(t.mapValue,e.mapValue);default:throw R()}}function _F(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return j(t,e);const n=zi(t),r=zi(e),i=j(n.seconds,r.seconds);return 0!==i?i:j(n.nanos,r.nanos)}function wa(t){return XT(t)}function XT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ai(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=XT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${XT(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function ZT(t){return!!t&&"integerValue"in t}function zc(t){return!!t&&"arrayValue"in t}function vF(t){return!!t&&"nullValue"in t}function wF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sf(t){return!!t&&"mapValue"in t}function qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(n)}setAll(e){let n=Qe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=qc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(qc(this.value))}}class Ae{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ae(e,0,F.min(),F.min(),F.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new Ae(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new Ae(e,2,n,F.min(),F.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,F.min(),F.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qi{constructor(e,n){this.position=e,this.inclusive=n}}function DF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Ki(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function CF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}class Ia{constructor(e,n="asc"){this.field=e,this.dir=n}}function See(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class SF{}class ae extends SF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Aee(e,n,r):"array-contains"===n?new Mee(e,r):"in"===n?new NF(e,r):"not-in"===n?new Ree(e,r):"array-contains-any"===n?new Nee(e,r):new ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new xee(e,r):new kee(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ki(n,this.value)):null!==n&&Wi(this.value)===Wi(n)&&this.matchesComparison(Ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ve extends SF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ve(e,n)}matches(e){return Ea(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ea(t){return"and"===t.op}function t0(t){return function AF(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}(t)&&Ea(t)}function n0(t){if(t instanceof ae)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(t0(t))return t.filters.map(e=>n0(e)).join(",");{const e=t.filters.map(n=>n0(n)).join(",");return`${t.op}(${e})`}}function xF(t,e){return t instanceof ae?(n=t,(r=e)instanceof ae&&n.op===r.op&&n.field.isEqual(r.field)&&xr(n.value,r.value)):t instanceof ve?function(n,r){return r instanceof ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&xF(s,r.filters[o]),!0)}(t,e):void R();var n,r}function MF(t){return t instanceof ae?function(e){return`${e.field.canonicalString()} ${e.op} ${wa(e.value)}`}(t):t instanceof ve?function(e){return e.op.toString()+" {"+e.getFilters().map(MF).join(" ,")+"}"}(t):"Filter"}class Aee extends ae{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.matchesComparison(n)}}class xee extends ae{constructor(e,n){super(e,"in",n),this.keys=RF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kee extends ae{constructor(e,n){super(e,"not-in",n),this.keys=RF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class Mee extends ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zc(n)&&Gc(n.arrayValue,this.value)}}class NF extends ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Gc(this.value.arrayValue,n)}}class Ree extends ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Gc(this.value.arrayValue,n)}}class Nee extends ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}class Pee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function r0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Pee(t,e,n,r,i,s,o)}function zs(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>n0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),jc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.dt=n}return e.dt}function Wc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!See(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CF(t.startAt,e.startAt)&&CF(t.endAt,e.endAt)}function Af(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ui{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Ta(t){return new ui(t)}function LF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qs(t){const e=A(t);if(null===e.wt){e.wt=[];const n=function kf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function s0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ia(n)),e.wt.push(new Ia(Qe.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ia(Qe.keyField(),s))}}}return e.wt}function un(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=r0(e.path,e.collectionGroup,qs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of qs(e))n.push(new Ia(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Qi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qi(e.startAt.position,e.startAt.inclusive):null;e._t=r0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Mf(t,e,n){return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kc(t,e){return Wc(un(t),un(e))&&t.limitType===e.limitType}function VF(t){return`${zs(un(t))}|lt:${t.limitType}`}function u0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>MF(r)).join(", ")}]`),jc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),`Target(${n})`}(un(t))}; limitType=${t.limitType})`}function Qc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of qs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=DF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,qs(n),r)||n.endAt&&!function(i,s,o){const a=DF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,qs(n),r)));var n,r}function BF(t){return(e,n)=>{let r=!1;for(const i of qs(t)){const s=Oee(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oee(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ki(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}class ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function gF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Fee=new De(S.comparator);function gn(){return Fee}const jF=new De(S.comparator);function Yc(...t){let e=jF;for(const n of t)e=e.insert(n.key,n);return e}function $F(t){let e=jF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function kr(){return Jc()}function HF(){return Jc()}function Jc(){return new ci(t=>t.toString(),(t,e)=>t.isEqual(e))}new De(S.comparator);const Vee=new Se(S.comparator);function J(...t){let e=Vee;for(const n of t)e=e.add(n);return e}const Uee=new Se(j);class Rf{constructor(){this._=void 0}}function Bee(t,e,n){return t instanceof ba?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Tf(i)&&(i=bf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ws?KF(t,e):t instanceof Ks?QF(t,e):function(r,i){const s=function WF(t,e){return t instanceof Da?ZT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=YF(s)+YF(r.gt);return ZT(s)&&ZT(r.gt)?function zF(t){return{integerValue:""+t}}(o):function GF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}(r.serializer,o)}(t,e)}function jee(t,e,n){return t instanceof Ws?KF(t,e):t instanceof Ks?QF(t,e):n}class ba extends Rf{}class Ws extends Rf{constructor(e){super(),this.elements=e}}function KF(t,e){const n=JF(e);for(const r of t.elements)n.some(i=>xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ks extends Rf{constructor(e){super(),this.elements=e}}function QF(t,e){let n=JF(e);for(const r of t.elements)n=n.filter(i=>!xr(i,r));return{arrayValue:{values:n}}}class Da extends Rf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function YF(t){return Ge(t.integerValue||t.doubleValue)}function JF(t){return zc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Re{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Re}static exists(e){return new Re(void 0,e)}static updateTime(e){return new Re(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class l0{}function XF(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Sa(t.key,Re.none()):new Ca(t.key,t.data,Re.none());{const n=t.data,r=Ot.empty();let i=new Se(Qe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new li(t.key,r,new pn(i.toArray()),Re.none())}}function Gee(t,e,n){t instanceof Ca?function(r,i,s){const o=r.value.clone(),a=tL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof li?function(r,i,s){if(!Nf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=tL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(eL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Zc(t,e,n,r){return t instanceof Ca?function(i,s,o,a){if(!Nf(i.precondition,s))return o;const u=i.value.clone(),c=nL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(i,s,o,a){if(!Nf(i.precondition,s))return o;const u=nL(i.fieldTransforms,a,s),c=s.data;return c.setAll(eL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Nf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function ZF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&_a(n,r,(i,s)=>function $ee(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ws&&r instanceof Ws||n instanceof Ks&&r instanceof Ks?_a(n.elements,r.elements,xr):n instanceof Da&&r instanceof Da?xr(n.gt,r.gt):n instanceof ba&&r instanceof ba);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ca extends l0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends l0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tL(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jee(o,a,n[i]))}return r}function nL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Bee(s,o,e))}return r}class Sa extends l0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=XF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>ZF(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>ZF(n,r))}}class p0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wee{constructor(e,n){this.count=e,this.unchangedNames=n}}var ot,fe;function iL(t){if(void 0===t)return Ke("GRPC error has no .code"),I.UNKNOWN;switch(t){case ot.OK:return I.OK;case ot.CANCELLED:return I.CANCELLED;case ot.UNKNOWN:return I.UNKNOWN;case ot.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ot.INTERNAL:return I.INTERNAL;case ot.UNAVAILABLE:return I.UNAVAILABLE;case ot.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ot.NOT_FOUND:return I.NOT_FOUND;case ot.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ot.ABORTED:return I.ABORTED;case ot.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ot.DATA_LOSS:return I.DATA_LOSS;default:return R()}}(fe=ot||(ot={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class g0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Pf}static getOrCreateInstance(){return null===Pf&&(Pf=new g0),Pf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Pf=null;const Kee=new ma([4294967295,4294967295],0);function oL(t){const e=function sL(){return new TextEncoder}().encode(t),n=new HZ;return n.update(e),new Uint8Array(n.digest())}function aL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ma([n,r],0),new ma([i,s],0)]}class m0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(r<0)throw new el(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new el(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ma.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ma.fromNumber(r)));return 1===i.compare(Kee)&&(i=new ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=oL(e),[r,i]=aL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new m0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=oL(e),[r,i]=aL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tl(F.min(),i,new De(j),gn(),J())}}class nl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nl(r,n,J(),J(),J())}}class Of{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class uL{constructor(e,n){this.targetId=e,this.Vt=n}}class cL{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lL{constructor(){this.St=0,this.Dt=hL(),this.Ct=ft.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=J(),n=J(),r=J();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new nl(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=hL()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qee{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gn(),this.zt=dL(),this.Wt=new De(j)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Af(o))if(0===i){const a=new S(o.path);this.Yt(r,a,Ae.newNoDocument(a,F.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=g0.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,v;const y={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=null==E?void 0:E.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=null==E?void 0:E.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(m=null==E?void 0:E.bits)||void 0===m?void 0:m.padding)&&void 0!==v?v:0}),y}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=ai(s).toUint8Array()}catch(l){if(l instanceof yF)return or("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new m0(u,o,a)}catch(l){return or(l instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Af(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Ae.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=J();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new tl(e,n,this.Wt,this.jt,r);return this.jt=gn(),this.zt=dL(),this.Wt=new De(j),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new lL,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Se(j),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||D("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new lL),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function dL(){return new De(S.comparator)}function hL(){return new De(S.comparator)}const Yee={asc:"ASCENDING",desc:"DESCENDING"},Jee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xee={and:"AND",or:"OR"};class Zee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y0(t,e){return t.useProto3Json||jc(e)?e:{value:e}}function Ye(t){return O(!!t),F.fromTimestamp(function(e){const n=zi(e);return new Le(n.seconds,n.nanos)}(t))}function pL(t){const e=he.fromString(t);return O(TL(e)),e}function Mr(t,e){const n=pL(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(mL(n))}function v0(t,e){return function _0(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function il(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mL(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vL(t,e){return{documents:[v0(t,e.path)]}}function I0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=v0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=v0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return EL(ve.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Yi((l=c).field),direction:ste(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=y0(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function wL(t){let e=function gL(t){const e=pL(t);return 4===e.length?he.emptyPath():mL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=IL(l);return d instanceof ve&&t0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ia(xa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,jc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Qi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Qi(l.values||[],!l.before)}(n.endAt)),function FF(t,e,n,r,i,s,o,a){return new ui(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function IL(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=xa(e.unaryFilter.field);return ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=xa(e.unaryFilter.field);return ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xa(e.unaryFilter.field);return ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xa(e.unaryFilter.field);return ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(t):void 0!==t.fieldFilter?function(e){return ae.create(xa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ve.create(e.compositeFilter.filters.map(n=>IL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return R()}}(e.compositeFilter.op))}(t):R()}function ste(t){return Yee[t]}function ote(t){return Jee[t]}function ate(t){return Xee[t]}function Yi(t){return{fieldPath:t.canonicalString()}}function xa(t){return Qe.fromServerFormat(t.fieldPath)}function EL(t){return t instanceof ae?function(e){if("=="===e.op){if(wF(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NAN"}};if(vF(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wF(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NAN"}};if(vF(e.value))return{unaryFilter:{field:Yi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yi(e.field),op:ote(e.op),value:e.value}}}(t):t instanceof ve?function(e){const n=e.getFilters().map(r=>EL(r));return 1===n.length?n[0]:{compositeFilter:{op:ate(e.op),filters:n}}}(t):R()}function TL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class di{constructor(e,n,r,i,s=F.min(),o=F.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bL{constructor(e){this.fe=e}}function E0(t){const e=wL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Mf(e,e.limit,"L"):e}class Xs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ge(e.integerValue));else if("doubleValue"in e){const r=Ge(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),$c(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(ai(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?IF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):R()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),S.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Xs.Ve=new Xs;class yte{constructor(){this.rn=new A0}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(An.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(An.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class A0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Se(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Se(he.comparator)).toArray()}}new Uint8Array(0);class Kt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class eo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new eo(0)}static Mn(){return new eo(-1)}}class Cte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class YL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Zc(r.mutation,i,pn.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){const i=kr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=kr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gn();const o=Jc(),a=Jc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof li)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Zc(l.mutation,c,l.mutation.getFieldMask(),Le.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Cte(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jc();let i=new De((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||J()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=HF();l.forEach(h=>{if(!s.has(h)){const f=XF(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function o0(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(kr());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,J())).next(l=>({batchId:a,changes:$F(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=Yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Yc();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new ui(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Ae.newInvalidDocument(c)))});let o=Yc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Zc(c.mutation,u,pn.empty(),Le.now()),Qc(n,u)&&(o=o.insert(a,u))}),o})}}class Ste{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ye(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:E0(r.bundledQuery),readTime:Ye(r.readTime)}),w.resolve();var r}}class Ate{constructor(){this.overlays=new De(S.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=kr();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=kr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=kr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=kr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p0(n,r));let s=this.ls.get(n);void 0===s&&(s=J(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class x0{constructor(){this.fs=new Se(bt.ds),this.ws=new Se(bt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new bt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new bt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new S(new he([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new S(new he([])),r=new bt(n,e),i=new bt(n,e+1);let s=J();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return S.comparator(e.key,n.key)||j(e.As,n.As)}static _s(e,n){return j(e.As,n.As)||S.comparator(e.key,n.key)}}class xte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Se(bt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new h0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Se(j);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new bt(new S(s),0);let a=new Se(j);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new bt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class kte{constructor(e){this.Ds=e,this.docs=new De(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gn();const o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||KT(iF(l),r)<=0||(i.has(l.key)||Qc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){R()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mte(this)}getSize(e){return w.resolve(this.size)}}class Mte extends class Tte{constructor(){this.changes=new ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ae.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Rte{constructor(e){this.persistence=e,this.xs=new ci(n=>zs(n),Wc),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Ns=0,this.ks=new x0,this.targetCount=0,this.Ms=eo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new eo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class k0{constructor(e,n){this.$s={},this.overlays={},this.Os=new xn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Rte(this),this.indexManager=new yte,this.remoteDocumentCache=new kte(r=>this.referenceDelegate.Ls(r)),this.serializer=new bL(n),this.qs=new Ste(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ate,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new xte(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new Nte(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Nte extends class eee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Qs=new x0,this.js=null}static zs(e){return new Gf(e)}get Ws(){if(this.js)return this.js;throw R()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class P0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=J(),i=J();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new P0(e,n.fromCache,r,i)}}class XL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(LF(n))return w.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Mf(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=J(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Mf(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return LF(n)||i.isEqual(F.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(zT()<=ce.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),u0(n)),this.Wi(e,o,n,function rF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new Le(n+1,0):new Le(n,r));return new An(i,S.empty(),e)}(i,-1)))})}ji(e,n){let r=new Se(BF(e));return n.forEach((i,s)=>{Qc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return zT()<=ce.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",u0(n)),this.Ui.getDocumentsMatchingQuery(e,n,An.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ote{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new De(j),this.Yi=new ci(s=>zs(s),Wc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function e2(t,e){return O0.apply(this,arguments)}function O0(){return O0=_(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=J();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),O0.apply(this,arguments)}function t2(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Lte(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ft.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=gn(),c=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function n2(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(F.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function Ra(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function Na(t,e,n){return F0.apply(this,arguments)}function F0(){return F0=_(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Hi(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),F0.apply(this,arguments)}function Wf(t,e,n){const r=A(t);let i=F.min(),s=J();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:J())).next(a=>(function s2(t,e,n){let r=t.Xi.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function UF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class j0{constructor(){this.activeTargetIds=function c0(){return Uee}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u2{constructor(){this.Hr=new j0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new j0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jte{Yr(e){}shutdown(){}}class c2{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yf=null;function H0(){return null===Yf?Yf=268435456+Math.round(2147483648*Math.random()):Yf++,"0x"+Yf.toString(16)}const $te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hte{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Qt="WebChannelConnection";class Gte extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=H0(),a=this.To(e,n);D("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(D("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw or("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ya,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${$te[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=H0();return new Promise((o,a)=>{const u=new $Z;u.setWithCredentials(!0),u.listenOnce(UZ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case GT.NO_ERROR:const l=u.getResponseJson();D(Qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case GT.TIMEOUT:D(Qt,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case GT.HTTP_ERROR:const d=u.getStatus();if(D(Qt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{D(Qt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);D(Qt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=H0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LZ(),a=VZ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new jZ({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");D(Qt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Hte({ro:m=>{f?D(Qt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(D(Qt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(Qt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,v,y)=>{m.listen(v,E=>{try{y(E)}catch(N){setTimeout(()=>{throw N},0)}})};return g(d,yf.EventType.OPEN,()=>{f||D(Qt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,yf.EventType.CLOSE,()=>{f||(f=!0,D(Qt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,yf.EventType.ERROR,m=>{f||(f=!0,or(Qt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,yf.EventType.MESSAGE,m=>{var v;if(!f){const y=m.data[0];O(!!y);const E=y,N=E.error||(null===(v=E[0])||void 0===v?void 0:v.error);if(N){D(Qt,`RPC '${e}' stream ${i} received error:`,N);const V=N.status;let W=function(Mn){const Or=ot[Mn];if(void 0!==Or)return iL(Or)}(V),ke=N.message;void 0===W&&(W=I.INTERNAL,ke="Unknown error status: "+V+" with message "+N.message),f=!0,p.wo(new T(W,ke)),d.close()}else D(Qt,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,BZ.STAT_EVENT,m=>{m.stat===JO.PROXY?D(Qt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===JO.NOPROXY&&D(Qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Jf(){return"undefined"!=typeof document?document:null}function pl(t){return new Zee(t,!0)}class G0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class qte extends class zte{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new G0(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Ke(n.toString()),Ke("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function nte(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(O(void 0===c||"string"==typeof c),ft.fromBase64String(c||"")):(O(void 0===c||c instanceof Uint8Array),ft.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:iL(u.code);return new T(c,u.message||"")}(o);n=new cL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(t,r.document.name),s=Ye(r.document.updateTime),o=r.document.createTime?Ye(r.document.createTime):F.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=Ae.newFoundDocument(i,s,o,a);n=new Of(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(t,r.document),s=r.readTime?Ye(r.readTime):F.min(),o=Ae.newNoDocument(i,s);n=new Of([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(t,r.document);n=new Of([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Wee(i,s);n=new uL(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?Ye(s.readTime):F.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=il(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Af(a)?{documents:vL(i,a)}:{query:I0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function fL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=y0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(F.min())>0){o.readTime=function Aa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=y0(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function ite(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return R()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=il(this.serializer),n.removeTarget=e,this.Wo(n)}}class Kte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Yte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ke(n),this.mu=!1):D("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Jte{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var u;es(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(c){const l=A(c);l.vu.add(4),yield Pa(l),l.bu.set("Unknown"),l.vu.delete(4),yield gl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new Yte(r,i)}}function gl(t){return q0.apply(this,arguments)}function q0(){return q0=_(function*(t){if(es(t))for(const e of t.Ru)yield e(!0)}),q0.apply(this,arguments)}function Pa(t){return W0.apply(this,arguments)}function W0(){return W0=_(function*(t){for(const e of t.Ru)yield e(!1)}),W0.apply(this,arguments)}function Xf(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Y0(n)?Q0(n):Fa(n).Ko()&&K0(n,e))}function ml(t,e){const n=A(t),r=Fa(n);n.Au.delete(e),r.Ko()&&d2(n,e),0===n.Au.size&&(r.Ko()?r.jo():es(n)&&n.bu.set("Unknown"))}function K0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fa(t).su(e)}function d2(t,e){t.Vu.qt(e),Fa(t).iu(e)}function Q0(t){t.Vu=new Qee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Fa(t).start(),t.bu.gu()}function Y0(t){return es(t)&&!Fa(t).Uo()&&t.Au.size>0}function es(t){return 0===A(t).vu.size}function h2(t){t.Vu=void 0}function Xte(t){return J0.apply(this,arguments)}function J0(){return J0=_(function*(t){t.Au.forEach((e,n)=>{K0(t,e)})}),J0.apply(this,arguments)}function Zte(t,e){return X0.apply(this,arguments)}function X0(){return X0=_(function*(t,e){h2(t),Y0(t)?(t.bu.Iu(e),Q0(t)):t.bu.set("Unknown")}),X0.apply(this,arguments)}function ene(t,e,n){return Z0.apply(this,arguments)}function Z0(){return Z0=_(function*(t,e,n){if(t.bu.set("Online"),e instanceof cL&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zf(t,r)}else if(e instanceof Of?t.Vu.Ht(e):e instanceof uL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(F.min()))try{const r=yield t2(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(ft.EMPTY_BYTE_STRING,c.snapshotVersion)),d2(i,a);const l=new di(c.target,a,u,c.sequenceNumber);K0(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield Zf(t,r)}var r}),Z0.apply(this,arguments)}function Zf(t,e,n){return eb.apply(this,arguments)}function eb(){return eb=_(function*(t,e,n){if(!Hi(e))throw e;t.vu.add(1),yield Pa(t),t.bu.set("Offline"),n||(n=()=>t2(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){D("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield gl(t)}))}),eb.apply(this,arguments)}function m2(t,e){return ob.apply(this,arguments)}function ob(){return ob=_(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=es(n);n.vu.add(3),yield Pa(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield gl(n)}),ob.apply(this,arguments)}function ub(){return ub=_(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield gl(n)):e||(n.vu.add(2),yield Pa(n),n.bu.set("Unknown"))}),ub.apply(this,arguments)}function Fa(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new qte(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Xte.bind(null,t),ao:Zte.bind(null,t),nu:ene.bind(null,t)}),t.Ru.push(function(){var e=_(function*(n){n?(t.Su.Qo(),Y0(t)?Q0(t):t.bu.set("Unknown")):(yield t.Su.stop(),h2(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class cb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new cb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function La(t,e){if(Ke("AsyncQueue",`${e}: ${t}`),Hi(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=Yc(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Va(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class y2{constructor(){this.Cu=new De(S.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):R():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ua{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ua(e,n,Va.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ane{constructor(){this.Nu=void 0,this.listeners=[]}}class une{constructor(){this.queries=new ci(e=>VF(e),Kc),this.onlineState="Unknown",this.ku=new Set}}function db(){return db=_(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ane),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=La(o,`Initialization of query '${u0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&pb(n)}),db.apply(this,arguments)}function fb(){return fb=_(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),fb.apply(this,arguments)}function cne(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&pb(n)}function lne(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function pb(t){t.ku.forEach(e=>{e.next()})}class gb{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class w2{constructor(e){this.key=e}}class I2{constructor(e){this.key=e}}class E2{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=J(),this.mutatedKeys=J(),this.tc=BF(e),this.ec=new Va(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new y2,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Qc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ua(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new y2,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=J(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new I2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new w2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=J();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ua.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pne{constructor(e){this.key=e,this.fc=!1}}class gne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ci(a=>VF(a),Kc),this._c=new Map,this.mc=new Set,this.gc=new De(S.comparator),this.yc=new Map,this.Ic=new x0,this.Tc={},this.Ec=new Map,this.Ac=eo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function mne(t,e){return mb.apply(this,arguments)}function mb(){return mb=_(function*(t,e){const n=Ub(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield Ra(n.localStore,un(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield yb(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Xf(n.remoteStore,o)}return i}),mb.apply(this,arguments)}function yb(t,e,n,r,i){return _b.apply(this,arguments)}function _b(){return _b=_(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=_(function*(g,m,v,y){let E=m.view.sc(v);E.zi&&(E=yield Wf(g.localStore,m.query,!1).then(({documents:W})=>m.view.sc(W,E)));const N=y&&y.targetChanges.get(m.targetId),V=m.view.applyChanges(E,g.isPrimaryClient,N);return Ab(g,m.targetId,V.cc),V.snapshot}),function(g,m,v,y){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Wf(t.localStore,e,!0),o=new E2(e,s.ir),a=o.sc(s.documents),u=nl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);Ab(t,n,c.cc);const l=new fne(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),_b.apply(this,arguments)}function yne(t,e){return vb.apply(this,arguments)}function vb(){return vb=_(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Kc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Na(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ml(n.remoteStore,r.targetId),Ba(n,r.targetId)}).catch($i))):(Ba(n,r.targetId),yield Na(n.localStore,r.targetId,!0))}),vb.apply(this,arguments)}function T2(t,e){return Ib.apply(this,arguments)}function Ib(){return Ib=_(function*(t,e){const n=A(t);try{const r=yield Lte(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield hi(n,r,e)}catch(r){yield $i(r)}}),Ib.apply(this,arguments)}function b2(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&pb(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vne(t,e,n){return Eb.apply(this,arguments)}function Eb(){return Eb=_(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new De(S.comparator);o=o.insert(s,Ae.newNoDocument(s,F.min()));const a=J().add(s),u=new tl(F.min(),new Map,new De(j),o,a);yield T2(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),xb(r)}else yield Na(r.localStore,e,!1).then(()=>Ba(r,e,n)).catch($i)}),Eb.apply(this,arguments)}function Ba(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||D2(t,r)})}function D2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(ml(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),xb(t))}function Ab(t,e,n){for(const r of n)r instanceof w2?(t.Ic.addReference(r.key,e),Tne(t,r)):r instanceof I2?(D("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||D2(t,r.key)):R()}function Tne(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(D("SyncEngine","New document in limbo: "+n),t.mc.add(r),xb(t))}function xb(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new S(he.fromString(e)),r=t.Ac.next();t.yc.set(r,new pne(n)),t.gc=t.gc.insert(n,r),Xf(t.remoteStore,new di(un(Ta(n.path)),r,"TargetPurposeLimboResolution",xn.ct))}}function hi(t,e,n){return kb.apply(this,arguments)}function kb(){return kb=_(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const l=P0.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=_(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Hi(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),kb.apply(this,arguments)}function bne(t,e){return Mb.apply(this,arguments)}function Mb(){return Mb=_(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield e2(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hi(n,r.er)}var i}),Mb.apply(this,arguments)}function Dne(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return J().add(r.key);{let i=J();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function Ub(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vne.bind(null,e),e.dc.nu=cne.bind(null,e.eventManager),e.dc.Pc=lne.bind(null,e.eventManager),e}class ep{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=pl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function ZL(t,e,n,r){return new Ote(t,e,n,r)}(this.persistence,new XL,e.initialUser,this.serializer)}createPersistence(e){return new k0(Gf.zs,this.serializer)}createSharedClientState(e){return new u2}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ja{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>b2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bne.bind(null,r.syncEngine),yield function ab(t,e){return ub.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new une}createDatastore(e){const n=pl(e.databaseInfo.databaseId),r=new Gte(e.databaseInfo);return new Kte(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>b2(this.syncEngine,a,0),o=c2.D()?new c2:new jte,new Jte(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new gne(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=_(function*(n){const r=A(n);D("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Pa(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class tp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ke("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Vne{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=class tF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=La(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function np(t,e){return jb.apply(this,arguments)}function jb(){return jb=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield e2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),jb.apply(this,arguments)}function $b(t,e){return Hb.apply(this,arguments)}function Hb(){return Hb=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Gb(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>m2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>m2(e.remoteStore,s)),t._onlineComponents=e}),Hb.apply(this,arguments)}function M2(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function Gb(t){return zb.apply(this,arguments)}function zb(){return zb=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!M2(n))throw n;or("Error using user provided cache. Falling back to memory cache: "+n),yield np(t,new ep)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield np(t,new ep);return t._offlineComponents}),zb.apply(this,arguments)}function rp(t){return qb.apply(this,arguments)}function qb(){return qb=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield $b(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield $b(t,new ja))),t._onlineComponents}),qb.apply(this,arguments)}function $a(t){return Kb.apply(this,arguments)}function Kb(){return Kb=_(function*(t){const e=yield rp(t),n=e.eventManager;return n.onListen=mne.bind(null,e.syncEngine),n.onUnlisten=yne.bind(null,e.syncEngine),n}),Kb.apply(this,arguments)}function L2(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const V2=new Map;function B2(t){if(S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function le(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function sp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class $2{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Wne(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=L2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $2(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new GZ;switch(n.type){case"firstParty":return new KZ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=V2.get(e);n&&(D("ComponentProvider","Removing Datastore"),V2.delete(e),n.terminate())}(this),Promise.resolve()}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Ft{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ft(this.firestore,e,this._query)}}class Rr extends Ft{constructor(e,n,r){super(e,n,Ta(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new S(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Qne(t,e,...n){if(t=Ni(t),function Qb(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof yl){const r=he.fromString(e,...n);return B2(r),new Rr(t,null,r)}{if(!(t instanceof Je||t instanceof Rr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return B2(r),new Rr(t.firestore,null,r)}}class Jne{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new G0(this,"async_queue_retry"),this.Xc=()=>{const n=Jf();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Jf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Jf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ht;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Hi(n))throw n;D("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ke("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=cb.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&R()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Yb(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class xe extends yl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jne,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||G2(this),this._firestoreClient.terminate()}}function Zne(t,e){const r="string"==typeof t?t:e||"(default)",i=fh("object"==typeof t?t:WM(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=uh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function Kne(t,e,n,r={}){var i;const s=(t=le(t,yl))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Et.MOCK_USER;else{a=function V5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[oh(JSON.stringify({alg:"none",type:"JWT"})),oh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(c)}t._authCredentials=new zZ(new ZO(a,u))}}(i,...s)}return i}function G2(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new bee(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,L2(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Vne(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(ft.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ha{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return j(this._lat,e._lat)||j(this._long,e._long)}}const are=new RegExp("[~\\*/\\[\\]]");function up(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}class tD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ure(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ure extends tD{data(){return super.data()}}function cp(t,e){return"string"==typeof e?function ap(t,e,n){if(e.search(are)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ha(...e.split("."))._internalPath}catch(r){throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Ha?e._internalPath:e._delegate._internalPath}class io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends tD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fp extends qa{data(e={}){return super.data(e)}}class Wa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fp(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new fp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new io(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new fp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new io(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:hre(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hre(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class ns extends class lre{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Jb(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);O(TL(r));const i=new Hs(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Ke(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}!function(t,e=!0){ya="9.23.0",sn(new Gt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new xe(new qZ(n.getProvider("auth-internal")),new QZ(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),We(XO,"3.13.0",t),We(XO,"3.13.0","esm2017")}();var Dre={includeMetadataChanges:!1};function sD(t,e){return void 0===e&&(e=Dre),new Ne(function(n){var r=function fre(t,...e){var n,r,i;t=Ni(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Yb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Yb(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Je)c=le(t.firestore,xe),l=Ta(t._key.path),u={next:d=>{e[o]&&e[o](function iD(t,e,n){const r=n.docs.get(e._key),i=new ns(t);return new qa(t,i,e._key,r,new io(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=le(t,Ft);c=le(d.firestore,xe),l=d._query;const h=new ns(c);u={next:f=>{e[o]&&e[o](new Wa(c,h,d,f))},error:e[o+1],complete:e[o+2]},function rV(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new tp(p),m=new gb(h,g,f);return d.asyncQueue.enqueueAndForget(_(function*(){return function lb(t,e){return db.apply(this,arguments)}(yield $a(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(_(function*(){return function hb(t,e){return fb.apply(this,arguments)}(yield $a(d),m)}))}}(function at(t){return t._firestoreClient||G2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Rre(t,e){return void 0===e&&(e={}),function Mre(t){return sD(t,{includeMetadataChanges:!0}).pipe(ge(function(e){return e.docs}))}(t).pipe(ge(function(n){return n.map(function(r){return function dV(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class gp{constructor(e){return e}}const gV="firestore",uD=new ee("angularfire2.firestore-instances");function Ore(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new gp(r)}}const Fre={provide:class Nre{constructor(){return Aw(gV)}},deps:[[new yt,uD]]},Lre={provide:gp,useFactory:function Pre(t,e){const n=function Sw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(gV,t,e);return n&&new gp(n)},deps:[[new yt,uD],sa]};let Vre=(()=>{class t{constructor(){We("angularfire",vw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({providers:[Lre,Fre]}),t})();function Ure(t,...e){return{ngModule:Vre,providers:[{provide:uD,useFactory:Ore(t),multi:!0,deps:[tt,$t,uN,cN,[new yt,fP],[new yt,OP],...e]}]}}const mp=wh(Rre,!0),yp=wh(Qne,!0),Bre=wh(Zne,!0);class ur extends Fr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:jre}=Array,{getPrototypeOf:$re,prototype:Hre,keys:Gre}=Object;const{isArray:Wre}=Array;function Jre(...t){const e=tu(t),n=function pB(t){return oe(Kp(t))?t.pop():void 0}(t),{args:r,keys:i}=function zre(t){if(1===t.length){const e=t[0];if(jre(e))return{args:e,keys:null};if(function qre(t){return t&&"object"==typeof t&&$re(t)===Hre}(e)){const n=Gre(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Vt([],e);const s=new Ne(function Xre(t,e,n=as){return r=>{mV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)mV(e,()=>{const c=Vt(t[u],e);let l=!1;c.subscribe(Ct(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function Yre(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):as));return n?s.pipe(function Qre(t){return ge(e=>function Kre(t,e){return Wre(e)?t(...e):t(e)}(t,e))}(n)):s}function mV(t,e,n){t?Lr(n,t,e):e()}function _p(t,e){const n=oe(t)?t:()=>t,r=i=>i.error(n());return new Ne(e?i=>e.schedule(r,0,i):r)}const vp=pt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function cD(...t){return function Zre(){return eu(1)}()(Vt(t,tu(t)))}function yV(t){return new Ne(e=>{cr(t()).subscribe(e)})}function _V(){return Dt((t,e)=>{let n=null;t._refCount++;const r=Ct(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class eie extends Ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mn;const n=this.getSubject();e.add(this.source.subscribe(Ct(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mn.EMPTY)}return e}refCount(){return _V()(this)}}function so(t,e){return Dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ct(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;cr(t(u,l)).subscribe(i=Ct(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function lD(t){return t<=0?()=>Vr:Dt((e,n)=>{let r=0;e.subscribe(Ct(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nie(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Ct(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function vV(t,e){return Dt(nie(t,e,arguments.length>=2,!0))}function rs(t){return Dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ct(n,void 0,void 0,o=>{s=cr(t(o,rs(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dD(t){return t<=0?()=>Vr:Dt((e,n)=>{let r=[];e.subscribe(Ct(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wV(t=rie){return Dt((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rie(){return new vp}function IV(t){return Dt((e,n)=>{let r=!1;e.subscribe(Ct(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ka(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Es((i,s)=>t(i,s,r)):as,lD(1),n?IV(e):wV(()=>new vp))}class fi{constructor(e,n){this.id=e,this.url=n}}class hD extends fi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tl extends fi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class EV extends fi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oie extends fi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aie extends fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uie extends fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cie extends fi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lie extends fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class die extends fi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TV{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bV{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hie{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fie{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pie{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gie{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DV{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class mie{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Qa(t){return new mie(t)}const CV="ngNavigationCancelingError";function fD(t){const e=Error("NavigationCancelingError: "+t);return e[CV]=!0,e}function _ie(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Nr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!SV(t[i],e[i]))return!1;return!0}function SV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function AV(t){return Array.prototype.concat.apply([],t)}function xV(t){return t.length>0?t[t.length-1]:null}function Lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Pr(t){return fx(t)?t:Ad(t)?Vt(Promise.resolve(t)):Y(t)}const Iie={exact:function RV(t,e,n){if(!ao(t.segments,e.segments)||!wp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!RV(t.children[r],e.children[r],n))return!1;return!0},subset:NV},kV={exact:function Eie(t,e){return Nr(t,e)},subset:function Tie(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SV(t[n],e[n]))},ignored:()=>!0};function MV(t,e,n){return Iie[n.paths](t.root,e.root,n.matrixParams)&&kV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function NV(t,e,n){return PV(t,e,e.segments,n)}function PV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ao(i,n)||e.hasChildren()||!wp(i,n,r))}if(t.segments.length===n.length){if(!ao(t.segments,n)||!wp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!NV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ao(t.segments,i)&&wp(t.segments,i,r)&&t.children[re])&&PV(t.children[re],e,s,r)}}function wp(t,e,n){return e.every((r,i)=>kV[n](t[i].parameters,r.parameters))}class oo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return Cie.serialize(this)}}class ue{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Lt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ip(this)}}class bl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Qa(this.parameters)),this._parameterMap}toString(){return UV(this)}}function ao(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class OV{}class FV{parse(e){const n=new Oie(e);return new oo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Dl(e.root,!0)}`,r=function xie(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ep(n)}=${Ep(i)}`).join("&"):`${Ep(n)}=${Ep(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Sie(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Cie=new FV;function Ip(t){return t.segments.map(e=>UV(e)).join("/")}function Dl(t,e){if(!t.hasChildren())return Ip(t);if(e){const n=t.children[re]?Dl(t.children[re],!1):"",r=[];return Lt(t.children,(i,s)=>{s!==re&&r.push(`${s}:${Dl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Die(t,e){let n=[];return Lt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),Lt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Dl(t.children[re],!1)]:[`${i}:${Dl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${Ip(t)}/${n[0]}`:`${Ip(t)}/(${n.join("//")})`}}function LV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ep(t){return LV(t).replace(/%3B/gi,";")}function pD(t){return LV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tp(t){return decodeURIComponent(t)}function VV(t){return Tp(t.replace(/\+/g,"%20"))}function UV(t){return`${pD(t.path)}${function Aie(t){return Object.keys(t).map(e=>`;${pD(e)}=${pD(t[e])}`).join("")}(t.parameters)}`}const kie=/^[^\/()?;=#]+/;function bp(t){const e=t.match(kie);return e?e[0]:""}const Mie=/^[^=?&#]+/,Nie=/^[^&#]+/;class Oie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ue(e,n)),r}parseSegment(){const e=bp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new bl(Tp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=bp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=bp(this.remaining);i&&(r=i,this.capture(r))}e[Tp(n)]=Tp(r)}parseQueryParam(e){const n=function Rie(t){const e=t.match(Mie);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Pie(t){const e=t.match(Nie);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=VV(n),s=VV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new ue([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class BV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=gD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=gD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=mD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mD(e,this._root).map(n=>n.value)}}function gD(t,e){if(t===e.value)return e;for(const n of e.children){const r=gD(t,n);if(r)return r}return null}function mD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=mD(t,n);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ya(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class jV extends BV{constructor(e,n){super(e),this.snapshot=n,yD(this,e)}toString(){return this.snapshot.toString()}}function $V(t,e){const n=function Fie(t,e){const o=new Dp([],{},{},"",{},re,e,null,t.root,-1,{});return new GV("",new pi(o,[]))}(t,e),r=new ur([new bl("",{})]),i=new ur({}),s=new ur({}),o=new ur({}),a=new ur(""),u=new Ja(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new jV(new pi(u,[]),n)}class Ja{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(e=>Qa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(e=>Qa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Lie(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dp{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GV extends BV{constructor(e,n){super(n),this.url=e,yD(this,n)}toString(){return zV(this._root)}}function yD(t,e){e.value._routerState=t,e.children.forEach(n=>yD(t,n))}function zV(t){const e=t.children.length>0?` { ${t.children.map(zV).join(", ")} } `:"";return`${t.value}${e}`}function _D(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nr(e.params,n.params)||t.params.next(n.params),function vie(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function vD(t,e){const n=Nr(t.params,e.params)&&function bie(t,e){return ao(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||vD(t.parent,e.parent))}function Cl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Uie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Cl(t,r,i);return Cl(t,r)})}(t,e,n);return new pi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cl(t,a)),o}}const r=function Bie(t){return new Ja(new ur(t.url),new ur(t.params),new ur(t.queryParams),new ur(t.fragment),new ur(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Cl(t,s));return new pi(r,i)}}function Cp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Sl(t){return"object"==typeof t&&null!=t&&t.outlets}function wD(t,e,n,r,i){let s={};if(r&&Lt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),t===e)return new oo(n,s,i);const o=qV(t,e,n);return new oo(o,s,i)}function qV(t,e,n){const r={};return Lt(t.children,(i,s)=>{r[s]=i===e?n:qV(i,e,n)}),new ue(t.segments,r)}class WV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cp(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Sl);if(i&&i!==xV(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ID{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function KV(t,e,n){if(t||(t=new ue([],{})),0===t.segments.length&&t.hasChildren())return Sp(t,e,n);const r=function qie(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Sl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!YV(u,c,o))return s;r+=2}else{if(!YV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ue(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ue(t.segments.slice(r.pathIndex),t.children),Sp(s,0,i)}return r.match&&0===i.length?new ue(t.segments,{}):r.match&&!t.hasChildren()?ED(t,e,n):r.match?Sp(t,0,i):ED(t,e,n)}function Sp(t,e,n){if(0===n.length)return new ue(t.segments,{});{const r=function zie(t){return Sl(t[0])?t[0].outlets:{[re]:t}}(n),i={};return Lt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=KV(t.children[o],e,s))}),Lt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ue(t.segments,i)}}function ED(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Sl(s)){const u=Wie(s.outlets);return new ue(r,u)}if(0===i&&Cp(n[0])){r.push(new bl(t.segments[e].path,QV(n[0]))),i++;continue}const o=Sl(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Cp(a)?(r.push(new bl(o,QV(a))),i+=2):(r.push(new bl(o,{})),i++)}return new ue(r,{})}function Wie(t){const e={};return Lt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=ED(new ue([],{}),0,n))}),e}function QV(t){const e={};return Lt(t,(n,r)=>e[r]=`${n}`),e}function YV(t,e,n){return t==n.path&&Nr(e,n.parameters)}class Qie{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_D(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ya(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Lt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ya(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ya(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ya(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gie(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fie(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(_D(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_D(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Yie(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class TD{constructor(e,n){this.routes=e,this.module=n}}function is(t){return"function"==typeof t}function uo(t){return t instanceof oo}const Al=Symbol("INITIAL_VALUE");function xl(){return so(t=>Jre(t.map(e=>e.pipe(lD(1),function tie(...t){const e=tu(t);return Dt((n,r)=>{(e?cD(t,n,e):cD(t,n)).subscribe(r)})}(Al)))).pipe(vV((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Al?i:(s===Al&&(r=!0),r||!1!==s&&o!==n.length-1&&!uo(s)?i:s),e)},Al),Es(e=>e!==Al),ge(e=>uo(e)?e:!0===e),lD(1)))}class nse{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kl,this.attachRef=null}}class kl{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new nse,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let bD=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.name=s||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new rse(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(L(kl),L(er),L(Vu),function du(t){return function Mj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(LC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ut(),t)}("name"),L(xy))},t.\u0275dir=Ut({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class rse{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ja?this.route:e===kl?this.childContexts:this.parent.get(e,n)}}let JV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gn({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&xt(0,"router-outlet")},directives:[bD],encapsulation:2}),t})();function XV(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ise(r,sse(e,r))}}function ise(t,e){t.children&&XV(t.children,e)}function sse(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function DD(t){const e=t.children&&t.children.map(DD),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=JV),n}function $n(t){return t.outlet||re}function ZV(t,e){const n=t.filter(r=>$n(r)===e);return n.push(...t.filter(r=>$n(r)!==e)),n}const eU={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ap(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},eU):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||_ie)(n,t,e);if(!s)return Object.assign({},eU);const o={};Lt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function xp(t,e,n,r,i="corrected"){if(n.length>0&&function use(t,e,n){return n.some(r=>kp(t,e,r)&&$n(r)!==re)}(t,n,r)){const o=new ue(e,function ase(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&$n(s)!==re){const o=new ue([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[$n(s)]=o}return i}(t,e,r,new ue(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function cse(t,e,n){return n.some(r=>kp(t,e,r))}(t,n,r)){const o=new ue(t.segments,function ose(t,e,n,r,i,s){const o={};for(const a of r)if(kp(t,n,a)&&!i[$n(a)]){const u=new ue([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[$n(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ue(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function kp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function tU(t,e,n,r){return!!($n(t)===r||r!==re&&kp(e,n,t))&&("**"===t.path||Ap(e,t,n).matched)}function nU(t,e,n){return 0===e.length&&!t.children[n]}class Mp{constructor(e){this.segmentGroup=e||null}}class rU{constructor(e){this.urlTree=e}}function Ml(t){return _p(new Mp(t))}function iU(t){return _p(new rU(t))}function lse(t){return _p(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class fse{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(qr)}apply(){const e=xp(this.urlTree.root,[],[],this.config).segmentGroup,n=new ue(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,re).pipe(ge(s=>this.createUrlTree(CD(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rs(s=>{if(s instanceof rU)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Mp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(ge(i=>this.createUrlTree(CD(i),e.queryParams,e.fragment))).pipe(rs(i=>{throw i instanceof Mp?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ue([],{[re]:e}):e;return new oo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ge(s=>new ue([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Vt(i).pipe(Zo(s=>{const o=r.children[s],a=ZV(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ge(u=>({segment:u,outlet:s})))}),vV((s,o)=>(s[o.outlet]=o.segment,s),{}),function iie(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Es((i,s)=>t(i,s,r)):as,dD(1),n?IV(e):wV(()=>new vp))}())}expandSegment(e,n,r,i,s,o){return Vt(r).pipe(Zo(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(rs(c=>{if(c instanceof Mp)return Y(null);throw c}))),Ka(a=>!!a),rs((a,u)=>{if(a instanceof vp||"EmptyError"===a.name)return nU(n,i,s)?Y(new ue([],{})):Ml(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return tU(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Ml(n):Ml(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iU(s):this.lineralizeSegments(r,s).pipe(gt(o=>{const a=new ue(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Ap(n,i,s);if(!a)return Ml(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?iU(d):this.lineralizeSegments(i,d).pipe(gt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Y(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ge(d=>(r._loadedConfig=d,new ue(i,{})))):Y(new ue(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Ap(n,r,i);return o?this.getChildConfig(e,r,i).pipe(gt(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=xp(n,a,u,h),g=new ue(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ge(E=>new ue(a,E)));if(0===h.length&&0===p.length)return Y(new ue(a,{}));const m=$n(r)===s;return this.expandSegment(d,g,h,p,m?re:s,!0).pipe(ge(y=>new ue(a.concat(y.segments),y.children)))})):Ml(n)}getChildConfig(e,n,r){return n.children?Y(new TD(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?Y(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(gt(i=>i?this.configLoader.load(e.injector,n).pipe(ge(s=>(n._loadedConfig=s,s))):function dse(t){return _p(fD(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):Y(new TD([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return Y(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function Xie(t){return t&&is(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!is(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Pr(u)});return Y(s).pipe(xl(),hn(o=>{if(!uo(o))return;const a=fD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ge(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[re])return lse(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new oo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Lt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Lt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ue(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function CD(t){const e={};for(const r of Object.keys(t.children)){const s=CD(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function pse(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ue(t.segments.concat(e.segments),e.children)}return t}(new ue(t.segments,e))}class sU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rp{constructor(e,n){this.component=e,this.route=n}}function mse(t,e,n){const r=t._root;return Rl(r,e?e._root:null,n,[r.value])}function Np(t,e,n){const r=function _se(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Rl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ya(e);return t.children.forEach(o=>{(function vse(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function wse(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vD(t,e)||!Nr(t.queryParams,e.queryParams);default:return!vD(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sU(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Rl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rp(a.outlet.component,o))}else o&&Nl(e,a,i),i.canActivateChecks.push(new sU(r)),Rl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Lt(s,(o,a)=>Nl(o,n.getContext(a),i)),i}function Nl(t,e,n){const r=Ya(t),i=t.value;Lt(r,(s,o)=>{Nl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Rp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class xse{}function oU(t){return new Ne(e=>e.error(t))}class Mse{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=xp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,re);if(null===n)return null;const r=new Dp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,n),s=new GV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=HV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=ZV(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=aU(r);return function Rse(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return nU(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!tU(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?xV(r).parameters:{};s=new Dp(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lU(e),$n(e),e.component,e,uU(n),cU(n)+r.length,dU(e))}else{const f=Ap(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new Dp(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lU(e),$n(e),e.component,e,uU(n),cU(n)+o.length,dU(e))}const u=function Nse(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=xp(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new pi(s,f)]}if(0===u.length&&0===l.length)return[new pi(s,[])];const d=$n(e)===i,h=this.processSegment(u,c,l,d?re:i);return null===h?null:[new pi(s,h)]}}function Pse(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function aU(t){const e=[],n=new Set;for(const r of t){if(!Pse(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=aU(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!n.has(r))}function uU(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cU(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function lU(t){return t.data||{}}function dU(t){return t.resolve||{}}function hU(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SD(t){return so(e=>{const n=t(e);return n?Vt(n).pipe(ge(()=>e)):Y(e)})}class $se extends class jse{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const AD=new ee("ROUTES");class fU{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new TD(AV(o.injector.get(AD,void 0,$.Self|$.Optional)).map(DD),o)}),rs(s=>{throw n._loader$=void 0,s}));return n._loader$=new eie(i,()=>new Fr).pipe(_V()),n._loader$}loadModuleFactory(e){return Pr(e()).pipe(gt(n=>n instanceof V1?Y(n):Vt(this.compiler.compileModuleAsync(n))))}}class Gse{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function zse(t){throw t}function qse(t,e,n){return e.parse("/")}function pU(t,e){return Y(null)}const Wse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kse={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fr,this.errorHandler=zse,this.malformedUriErrorHandler=qse,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pU,afterPreactivation:pU},this.urlHandlingStrategy=new Gse,this.routeReuseStrategy=new $se,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qr),this.console=o.get(gq);const d=o.get(tt);this.isNgZoneEnabled=d instanceof tt&&tt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function wie(){return new oo(new ue([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fU(o,a,h=>this.triggerEvent(new TV(h)),h=>this.triggerEvent(new bV(h))),this.routerState=$V(this.currentUrlTree,this.rootComponentType),this.transitions=new ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Es(i=>0!==i.id),ge(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),so(i=>{let s=!1,o=!1;return Y(i).pipe(hn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),so(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return gU(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(so(d=>{const h=this.transitions.getValue();return r.next(new hD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Vr:Promise.resolve(d)}),function gse(t,e,n,r){return so(i=>function hse(t,e,n,r,i){return new fse(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ge(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),hn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Ose(t,e,n,r,i){return gt(s=>function kse(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Mse(t,e,n,r,i,s).recognize();return null===o?oU(new xse):Y(o)}catch(o){return oU(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ge(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),hn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new aie(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new hD(h,this.serializeUrl(f),p,g);r.next(v);const y=$V(f,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Vr}),SD(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),hn(a=>{const u=new uie(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ge(a=>Object.assign(Object.assign({},a),{guards:mse(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function Ise(t,e){return gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y(Object.assign(Object.assign({},n),{guardsResult:!0})):function Ese(t,e,n,r){return Vt(t).pipe(gt(i=>function Ase(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=Np(a,e,i);let c;if(function tse(t){return t&&is(t.canDeactivate)}(u))c=Pr(u.canDeactivate(t,e,n,r));else{if(!is(u))throw new Error("Invalid CanDeactivate guard");c=Pr(u(t,e,n,r))}return c.pipe(Ka())})).pipe(xl()):Y(!0)}(i.component,i.route,n,e,r)),Ka(i=>!0!==i,!0))}(o,r,i,t).pipe(gt(a=>a&&function Jie(t){return"boolean"==typeof t}(a)?function Tse(t,e,n,r){return Vt(e).pipe(Zo(i=>cD(function Dse(t,e){return null!==t&&e&&e(new hie(t)),Y(!0)}(i.route.parent,r),function bse(t,e){return null!==t&&e&&e(new pie(t)),Y(!0)}(i.route,r),function Sse(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function yse(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>yV(()=>Y(o.guards.map(u=>{const c=Np(u,o.node,n);let l;if(function ese(t){return t&&is(t.canActivateChild)}(c))l=Pr(c.canActivateChild(r,t));else{if(!is(c))throw new Error("Invalid CanActivateChild guard");l=Pr(c(r,t))}return l.pipe(Ka())})).pipe(xl())));return Y(s).pipe(xl())}(t,i.path,n),function Cse(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>yV(()=>{const o=Np(s,e,n);let a;if(function Zie(t){return t&&is(t.canActivate)}(o))a=Pr(o.canActivate(e,t));else{if(!is(o))throw new Error("Invalid CanActivate guard");a=Pr(o(e,t))}return a.pipe(Ka())}));return Y(i).pipe(xl())}(t,i.route,n))),Ka(i=>!0!==i,!0))}(r,s,t,e):Y(a)),ge(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),hn(a=>{if(uo(a.guardsResult)){const c=fD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new cie(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Es(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),SD(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(hn(u=>{const c=new lie(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),so(u=>{let c=!1;return Y(u).pipe(function Fse(t,e){return gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return Vt(i).pipe(Zo(o=>function Lse(t,e,n,r){return function Vse(t,e,n,r){const i=hU(t);if(0===i.length)return Y({});const s={};return Vt(i).pipe(gt(o=>function Use(t,e,n,r){const i=Np(t,e,r);return Pr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(hn(a=>{s[o]=a}))),dD(1),gt(()=>hU(s).length===i.length?Y(s):Vr))}(t._resolve,t,e,r).pipe(ge(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),HV(t,n).resolve),null)))}(o.route,r,t,e)),hn(()=>s++),dD(1),gt(o=>s===i.length?Y(n):Vr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),hn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),hn(u=>{const c=new die(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),SD(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ge(a=>{const u=function Vie(t,e,n){const r=Cl(t,e._root,n?n._root:void 0);return new jV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),hn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ge(r=>(new Qie(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),hn({next(){s=!0},complete(){s=!0}}),function sie(t){return Dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),rs(a=>{if(o=!0,function yie(t){return t&&t[CV]}(a)){const u=uo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new EV(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gU(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new oie(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Vr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){XV(n),this.config=n.map(DD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function jie(t,e,n,r,i){if(0===n.length)return wD(e.root,e.root,e.root,r,i);const s=function $ie(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new WV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Lt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new WV(n,e,r)}(n);if(s.toRoot())return wD(e.root,e.root,new ue([],{}),r,i);const o=function Hie(t,e,n){if(t.isAbsolute)return new ID(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new ID(s,s===e.root,0)}const r=Cp(t.commands[0])?0:1;return function Gie(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ID(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Sp(o.segmentGroup,o.index,s.commands):KV(o.segmentGroup,o.index,s.commands);return wD(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=uo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function Qse(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Wse):!1===r?Object.assign({},Kse):r,uo(n))return MV(this.currentUrlTree,n,i);const s=this.parseUrl(n);return MV(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Tl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,g)=>{c=p,l=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new EV(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Um()},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function gU(t){return"imperative"!==t}let Pp=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Fr,this.subscription=n.events.subscribe(s=>{s instanceof Tl&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Xa(this.skipLocationChange),replaceUrl:Xa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xa(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(L(kn),L(Ja),L(Xo))},t.\u0275dir=Ut({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&xd("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Pm("target",r.target)("href",r.href,Ti)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[fs]}),t})();function Xa(t){return""===t||!!t}class mU{}class yU{preload(e,n){return Y(null)}}let _U=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new fU(i,r,u=>n.triggerEvent(new TV(u)),u=>n.triggerEvent(new bV(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Es(n=>n instanceof Tl),Zo(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(qr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return Vt(i).pipe(eu(),ge(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Y(r._loadedConfig):this.loader.load(n.injector,r)).pipe(gt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(P(kn),P(wk),P($t),P(mU))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})(),kD=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof hD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Tl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof DV&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new DV(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Um()},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();const co=new ee("ROUTER_CONFIGURATION"),vU=new ee("ROUTER_FORROOT_GUARD"),Zse=[Fy,{provide:OV,useClass:FV},{provide:kn,useFactory:function ioe(t,e,n,r,i,s,o={},a,u){const c=new kn(null,t,e,n,r,i,AV(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function soe(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[OV,kl,Fy,$t,wk,AD,co,[class Hse{},new yt],[class Bse{},new yt]]},kl,{provide:Ja,useFactory:function ooe(t){return t.routerState.root},deps:[kn]},_U,yU,class Xse{preload(e,n){return n().pipe(rs(()=>Y(null)))}},{provide:co,useValue:{enableTracing:!1}}];function eoe(){return new Dk("Router",kn)}let wU=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[Zse,IU(n),{provide:vU,useFactory:roe,deps:[[kn,new yt,new _u]]},{provide:co,useValue:r||{}},{provide:Xo,useFactory:noe,deps:[Is,[new ld(Oy),new yt],co]},{provide:kD,useFactory:toe,deps:[kn,C9,co]},{provide:mU,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:yU},{provide:Dk,multi:!0,useFactory:eoe},[MD,{provide:_y,multi:!0,useFactory:aoe,deps:[MD]},{provide:EU,useFactory:uoe,deps:[MD]},{provide:vk,multi:!0,useExisting:EU}]]}}static forChild(n){return{ngModule:t,providers:[IU(n)]}}}return t.\u0275fac=function(n){return new(n||t)(P(vU,8),P(kn,8))},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({}),t})();function toe(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kD(t,e,n)}function noe(t,e,n={}){return n.useHash?new a6(t,e):new Gk(t,e)}function roe(t){return"guarded"}function IU(t){return[{provide:Lj,multi:!0,useValue:t},{provide:AD,multi:!0,useValue:t}]}let MD=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fr}appInitializer(){return this.injector.get(i6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(kn),o=this.injector.get(co);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(co),i=this.injector.get(_U),s=this.injector.get(kD),o=this.injector.get(kn),a=this.injector.get(Sy);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(P($t))},t.\u0275prov=K({token:t,factory:t.\u0275fac}),t})();function aoe(t){return t.appInitializer.bind(t)}function uoe(t){return t.bootstrapListener.bind(t)}const EU=new ee("Router Initializer");let Op=(()=>{class t{constructor(n){this.firestore=n}getProyectos(){const n=yp(this.firestore,"Proyectos");return mp(n,{idField:"id"})}getContactos(){const n=yp(this.firestore,"Contacto");return mp(n,{idField:"id"})}getLenguajes(){const n=yp(this.firestore,"Lenguajes");return mp(n,{idField:"id"})}getTarjeta(){const n=yp(this.firestore,"Tarjetas");return mp(n,{idField:"id"})}}return t.\u0275fac=function(n){return new(n||t)(P(gp))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function loe(t,e){1&t&&(ie(0,"div",10)(1,"div",11),ze(2," Cont\xe1ctame "),te()())}function doe(t,e){if(1&t&&(ie(0,"div",1)(1,"div",2)(2,"div",3),xt(3,"hr",4),ie(4,"div",5),ze(5),te(),ie(6,"div",6),ze(7),te(),Ci(8,loe,3,0,"div",7),te(),ie(9,"div",8),xt(10,"img",9),te()()()),2&t){const n=e.$implicit;et(5),Si(" ",n.Titulo," "),et(2),Si(" ",n.Contenido," "),et(1),zr("ngIf",n.TieneBoton),et(2),ys("src","../../../../assets/img/",n.Imagen,".jpeg",Ti)}}let hoe=(()=>{class t{constructor(n){this.proyectosService=n}ngOnInit(){this.proyectosService.getTarjeta().subscribe({next:n=>{console.log(n),this.cards=n},error:n=>{console.error(n)},complete:()=>{console.log("completado")}})}}return t.\u0275fac=function(n){return new(n||t)(L(Op))},t.\u0275cmp=Gn({type:t,selectors:[["app-card"]],decls:1,vars:1,consts:[["class","c-panel",4,"ngFor","ngForOf"],[1,"c-panel"],[1,"c-panel__content","l-flex","l-flex--wrap","l-flex__justify-content--space-around"],[1,"c-panel__left","g--padding-3vh","l-flex","l-flex__direction--column","l-flex__aling-items--center"],[1,"g--back-gradient","g--redondeado"],[1,"c-title","g--color-principal-4","g--title-XL"],[1,"c-text","g--color-principal-1","g--text-L"],["class","g--width-80",4,"ngIf"],[1,"c-panel__right","g--sombreado","g--redondeado"],[1,"c-img","g--redondeado",3,"src"],[1,"g--width-80"],["onclick","location.href='./contacto'",1,"c-button","c-button--secondary","g--width-100","g--redondeado"]],template:function(n,r){1&n&&Ci(0,doe,11,4,"div",0),2&n&&zr("ngForOf",r.cards)},directives:[Qu,qy],styles:[""]}),t})(),foe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gn({type:t,selectors:[["app-home"]],decls:2,vars:0,consts:[[1,"c-section"]],template:function(n,r){1&n&&(ie(0,"div",0),xt(1,"app-card"),te())},directives:[hoe],styles:[""]}),t})();function poe(t,e){if(1&t&&(ie(0,"div",5)(1,"div",6)(2,"div",7),xt(3,"img",8),te(),ie(4,"div",9)(5,"div",10),ze(6),te(),ie(7,"div",11),ze(8),te()()()()),2&t){const n=e.$implicit;et(3),ys("src","../../../../assets/img/",n.Nombre,".png",Ti),et(3),Si(" ",n.Nombre," "),et(2),Si(" ",n.Texto," ")}}let goe=(()=>{class t{constructor(n){this.proyectosService=n,this.lenguajes=[]}ngOnInit(){this.proyectosService.getLenguajes().subscribe({next:n=>{this.lenguajes=n},error:n=>{console.error(n)},complete:()=>{console.log("completado")}})}}return t.\u0275fac=function(n){return new(n||t)(L(Op))},t.\u0275cmp=Gn({type:t,selectors:[["app-lenguajes"]],decls:7,vars:1,consts:[[1,"g--title-XL","g--margin-2vh","g--padding-2vh","g--color-principal-4"],[1,"c-text","g--padding-2vh","g--color-principal-1","g--text-L"],[1,"c-part"],[1,"l-flex","l-flex--wrap","l-flex__justify-content--space-around"],["class","l-flex l-flex__direction--column c-opcion__lenguaje g--padding-2vh g--margin-5vh c-column--4 g--sombreado g--redondeado",4,"ngFor","ngForOf"],[1,"l-flex","l-flex__direction--column","c-opcion__lenguaje","g--padding-2vh","g--margin-5vh","c-column--4","g--sombreado","g--redondeado"],[1,"carta","g--width-100","g--height-100"],[1,"cara","g--width-100","g--height-100"],[1,"g--width-100","g--height-100",3,"src"],[1,"cara","detras"],[1,"g--title-L","g--color-principal-4"],[1,"c-text","g--text-S","g--color-principal-1"]],template:function(n,r){1&n&&(ie(0,"div",0),ze(1,"Lenguajes"),te(),ie(2,"div",1),ze(3,"Estos son los frameworks y lenguajes que he ido aprendiendo durante estos a\xf1os de estudio y por mi cuenta."),te(),ie(4,"div",2)(5,"div",3),Ci(6,poe,9,3,"div",4),te()()),2&n&&(et(6),zr("ngForOf",r.lenguajes))},directives:[Qu],styles:[""]}),t})();function moe(t,e){if(1&t&&(ie(0,"div",13),ze(1),te()),2&t){const n=Gm().$implicit;et(1),Si(" ",n.Texto," ")}}function yoe(t,e){if(1&t&&(ie(0,"div",14)(1,"a",15),ze(2),te()()),2&t){const n=Gm().$implicit;et(1),zm("href",n.NombreEnlace,Ti),et(1),Nu(n.Texto)}}function _oe(t,e){if(1&t&&(ie(0,"div",8)(1,"div",9),xt(2,"img",10),te(),Ci(3,moe,2,1,"div",11),Ci(4,yoe,3,2,"div",12),te()),2&t){const n=e.$implicit;et(2),ys("src","../../../../assets/img/",n.Logo,".png",Ti),et(1),zr("ngIf",1!=n.Enlace),et(1),zr("ngIf",1==n.Enlace)}}let voe=(()=>{class t{constructor(n){this.proyectosService=n,this.contactoDatos=[]}ngOnInit(){this.proyectosService.getContactos().subscribe({next:n=>{this.contactoDatos=n},error:n=>{console.error(n)},complete:()=>{console.log("completado")}})}}return t.\u0275fac=function(n){return new(n||t)(L(Op))},t.\u0275cmp=Gn({type:t,selectors:[["app-contacta"]],decls:10,vars:1,consts:[[1,"c-panel"],[1,"c-panel__content","l-flex","l-flex--wrap","l-flex__justify-content--space-around"],[1,"c-panel__left","g--padding-3vh"],[1,"c-title","g--color-principal-4","g--title-XL"],[1,"c-text","g--color-principal-1","g--text-L"],["class","c-listado l-flex l-flex__aling-items--center",4,"ngFor","ngForOf"],[1,"c-panel__right","g--padding-3vh"],["src","../../../../assets/img/img2.jpeg",1,"g--width-100","c-img","g--redondeado","g--sombreado"],[1,"c-listado","l-flex","l-flex__aling-items--center"],[1,"g--margin-2vh"],[1,"g--width-40",3,"src"],["class","g--color-principal-1 g--text-M",4,"ngIf"],["class","g--text-decoration-underline g--color-principal-1 g--text-M",4,"ngIf"],[1,"g--color-principal-1","g--text-M"],[1,"g--text-decoration-underline","g--color-principal-1","g--text-M"],[1,"g--color-principal-1",3,"href"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ze(4,"Contacto"),te(),ie(5,"div",4),ze(6," Si has llegado aqu\xed te agradezco el timpo que has dedicado y por el interes, aqu\xed tienes los diferentes medios con los que podr\xe1s contactarme. "),te(),Ci(7,_oe,5,3,"div",5),te(),ie(8,"div",6),xt(9,"img",7),te()()()),2&n&&(et(7),zr("ngForOf",r.contactoDatos))},directives:[Qu,qy],styles:[""]}),t})();function woe(t,e){if(1&t&&(ie(0,"div",2)(1,"div",3),xt(2,"img",4),te(),ie(3,"div",5),ze(4),te(),ie(5,"div",6),ze(6),te()()),2&t){const n=e.$implicit;et(2),ys("src","../../../../assets/img/",n.Nombre,".png",Ti),et(2),Nu(n.Nombre),et(2),Nu(n.Texto)}}let Ioe=(()=>{class t{constructor(n){this.proyectosService=n,this.proyectos=[]}ngOnInit(){this.proyectosService.getProyectos().subscribe({next:n=>{console.log(n),this.proyectos=n},error:n=>{console.error(n)},complete:()=>{console.log("completado")}})}}return t.\u0275fac=function(n){return new(n||t)(L(Op))},t.\u0275cmp=Gn({type:t,selectors:[["app-proyecto-card"]],decls:2,vars:1,consts:[[1,"l-flex","l-flex--wrap","l-flex__justify-content--space-around"],["class","l-flex l-flex__direction--column g--padding-2vh g--margin-t-5vh c-column--4 g--sombreado g--redondeado",4,"ngFor","ngForOf"],[1,"l-flex","l-flex__direction--column","g--padding-2vh","g--margin-t-5vh","c-column--4","g--sombreado","g--redondeado"],[1,"g--width-150"],[1,"c-img",3,"src"],[1,"g--padding-t-4vh","g--title-L","g--margin-top-5","g--color-principal-4","g--text-L"],[1,"c-text","g--color-principal-1"]],template:function(n,r){1&n&&(ie(0,"div",0),Ci(1,woe,7,3,"div",1),te()),2&n&&(et(1),zr("ngForOf",r.proyectos))},directives:[Qu],styles:[""]}),t})();const Eoe=[{path:"",component:foe},{path:"lenguajes",component:goe},{path:"contacto",component:voe},{path:"proyectos",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gn({type:t,selectors:[["app-proyectos"]],decls:6,vars:0,consts:[[1,"g--title-XL","g--padding-2vh","g--color-principal-4"],[1,"c-text","g--padding-2vh","g--color-principal-1","g--text-L"],[1,"c-part"]],template:function(n,r){1&n&&(ie(0,"div",0),ze(1,"Proyectos"),te(),ie(2,"div",1),ze(3," Durante todo este tiempo he trabajo en diversidad de proyectos: "),te(),ie(4,"div",2),xt(5,"app-proyecto-card"),te())},directives:[Ioe],styles:[""]}),t})()},{path:"**",redirectTo:"/",pathMatch:"full"}];let Toe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zn({type:t}),t.\u0275inj=Rn({imports:[[wU.forRoot(Eoe)],wU]}),t})(),boe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gn({type:t,selectors:[["app-navbar"]],decls:22,vars:0,consts:[[1,"c-header-bar"],[1,"nav-bar","l-flex","l-flex__justify-content--space-between","l-flex__aling-items--center"],[1,"c-text","g--padding-4vh","g--color-principal-1"],["type","checkbox","id","check"],[1,"menu","l-flex","l-flex__aling-items--center","g--padding-3vh"],["routerLink","",1,"c-button--tertiary-alt"],["routerLink","/lenguajes",1,"c-button--tertiary-alt"],["routerLink","/proyectos",1,"c-button--tertiary-alt"],["routerLink","/contacto",1,"c-button--tertiary-alt"],["for","check",1,"close-menu"],[1,"fas","fa-times"],["for","check",1,"open-menu"],[1,"fas","fa-bars"]],template:function(n,r){1&n&&(ie(0,"nav",0)(1,"ul",1)(2,"li",2),ze(3,"Ignacio Ruiz P\xe9rez"),te(),xt(4,"input",3),ie(5,"span",4)(6,"li")(7,"a",5),ze(8,"Home"),te()(),ie(9,"li")(10,"a",6),ze(11,"Lenguajes"),te()(),ie(12,"li")(13,"a",7),ze(14,"Proyectos"),te()(),ie(15,"li")(16,"a",8),ze(17,"Contacto"),te()(),ie(18,"label",9),xt(19,"i",10),te()(),ie(20,"label",11),xt(21,"i",12),te()()())},directives:[Pp],styles:[""]}),t})(),Doe=(()=>{class t{constructor(){this.title="proyecto_Moon"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gn({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"l-page","g--text-S"],[1,"l-page__body","g--padding-t-20vh"],[1,"l-page__footer"]],template:function(n,r){1&n&&(ie(0,"div",0),xt(1,"app-navbar"),ie(2,"div",1),xt(3,"router-outlet"),te(),xt(4,"div",2),te())},directives:[boe,bD],styles:[""]}),t})();const TU_firebaseConfig={apiKey:"AIzaSyDh_GK9T4WXbWZ_eWvHTn6UXh7_F_cWCpg",authDomain:"ruizperezignacio-porfolio.firebaseapp.com",databaseURL:"https://ruizperezignacio-porfolio-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ruizperezignacio-porfolio",storageBucket:"ruizperezignacio-porfolio.appspot.com",messagingSenderId:"978222183215",appId:"1:978222183215:web:45723431149c6a207ba7da",measurementId:"G-0Q1VGZL5QF"};let Coe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zn({type:t,bootstrap:[Doe]}),t.\u0275inj=Rn({providers:[],imports:[[Z9,Toe,b5,wQ(()=>IQ(TU_firebaseConfig)),Ure(()=>Bre())]]}),t})();(function Lq(){kk=!1})(),J9().bootstrapModule(Coe).catch(t=>console.error(t))}},oe=>{oe(oe.s=603)}]);